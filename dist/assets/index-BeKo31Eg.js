(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var om={exports:{}},xl={};var wv;function dw(){if(wv)return xl;wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Rv;function mw(){return Rv||(Rv=1,om.exports=dw()),om.exports}var w=mw(),lm={exports:{}},Se={};var Cv;function pw(){if(Cv)return Se;Cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),b=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,F={};function ie(V,ee,ae){this.props=V,this.context=ee,this.refs=F,this.updater=ae||q}ie.prototype.isReactComponent={},ie.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},ie.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=ie.prototype;function re(V,ee,ae){this.props=V,this.context=ee,this.refs=F,this.updater=ae||q}var ye=re.prototype=new J;ye.constructor=re,K(ye,ie.prototype),ye.isPureReactComponent=!0;var pe=Array.isArray;function be(){}var O={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,ee,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:ee,ref:ue!==void 0?ue:null,props:ae}}function L(V,ee){return C(V.type,ee,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ee[ae]})}var I=/\/+/g;function Ze(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):ee.toString(36)}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(be,be):(V.status="pending",V.then(function(ee){V.status==="pending"&&(V.status="fulfilled",V.value=ee)},function(ee){V.status==="pending"&&(V.status="rejected",V.reason=ee)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,ee,ae,ue,Ee){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var je=!1;if(V===null)je=!0;else switch(Ce){case"bigint":case"string":case"number":je=!0;break;case"object":switch(V.$$typeof){case r:case e:je=!0;break;case E:return je=V._init,Y(je(V._payload),ee,ae,ue,Ee)}}if(je)return Ee=Ee(V),je=ue===""?"."+Ze(V,0):ue,pe(Ee)?(ae="",je!=null&&(ae=je.replace(I,"$&/")+"/"),Y(Ee,ee,ae,"",function(ms){return ms})):Ee!=null&&(M(Ee)&&(Ee=L(Ee,ae+(Ee.key==null||V&&V.key===Ee.key?"":(""+Ee.key).replace(I,"$&/")+"/")+je)),ee.push(Ee)),1;je=0;var Ot=ue===""?".":ue+":";if(pe(V))for(var st=0;st<V.length;st++)ue=V[st],Ce=Ot+Ze(ue,st),je+=Y(ue,ee,ae,Ce,Ee);else if(st=D(V),typeof st=="function")for(V=st.call(V),st=0;!(ue=V.next()).done;)ue=ue.value,Ce=Ot+Ze(ue,st++),je+=Y(ue,ee,ae,Ce,Ee);else if(Ce==="object"){if(typeof V.then=="function")return Y(ft(V),ee,ae,ue,Ee);throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return je}function te(V,ee,ae){if(V==null)return V;var ue=[],Ee=0;return Y(V,ue,"","",function(Ce){return ee.call(ae,Ce,Ee++)}),ue}function ce(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var Ne=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ue={map:te,forEach:function(V,ee,ae){te(V,function(){ee.apply(this,arguments)},ae)},count:function(V){var ee=0;return te(V,function(){ee++}),ee},toArray:function(V){return te(V,function(ee){return ee})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Se.Activity=T,Se.Children=Ue,Se.Component=ie,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=re,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Se.__COMPILER_RUNTIME={__proto__:null,c:function(V){return O.H.useMemoCache(V)}},Se.cache=function(V){return function(){return V.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(V,ee,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=K({},V.props),Ee=V.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Ee=""+ee.key),ee)!R.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(ue[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var je=Array(Ce),Ot=0;Ot<Ce;Ot++)je[Ot]=arguments[Ot+2];ue.children=je}return C(V.type,Ee,ue)},Se.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Se.createElement=function(V,ee,ae){var ue,Ee={},Ce=null;if(ee!=null)for(ue in ee.key!==void 0&&(Ce=""+ee.key),ee)R.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ee[ue]=ee[ue]);var je=arguments.length-2;if(je===1)Ee.children=ae;else if(1<je){for(var Ot=Array(je),st=0;st<je;st++)Ot[st]=arguments[st+2];Ee.children=Ot}if(V&&V.defaultProps)for(ue in je=V.defaultProps,je)Ee[ue]===void 0&&(Ee[ue]=je[ue]);return C(V,Ce,Ee)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(V){return{$$typeof:m,render:V}},Se.isValidElement=M,Se.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ce}},Se.memo=function(V,ee){return{$$typeof:g,type:V,compare:ee===void 0?null:ee}},Se.startTransition=function(V){var ee=O.T,ae={};O.T=ae;try{var ue=V(),Ee=O.S;Ee!==null&&Ee(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(be,Ne)}catch(Ce){Ne(Ce)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),O.T=ee}},Se.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Se.use=function(V){return O.H.use(V)},Se.useActionState=function(V,ee,ae){return O.H.useActionState(V,ee,ae)},Se.useCallback=function(V,ee){return O.H.useCallback(V,ee)},Se.useContext=function(V){return O.H.useContext(V)},Se.useDebugValue=function(){},Se.useDeferredValue=function(V,ee){return O.H.useDeferredValue(V,ee)},Se.useEffect=function(V,ee){return O.H.useEffect(V,ee)},Se.useEffectEvent=function(V){return O.H.useEffectEvent(V)},Se.useId=function(){return O.H.useId()},Se.useImperativeHandle=function(V,ee,ae){return O.H.useImperativeHandle(V,ee,ae)},Se.useInsertionEffect=function(V,ee){return O.H.useInsertionEffect(V,ee)},Se.useLayoutEffect=function(V,ee){return O.H.useLayoutEffect(V,ee)},Se.useMemo=function(V,ee){return O.H.useMemo(V,ee)},Se.useOptimistic=function(V,ee){return O.H.useOptimistic(V,ee)},Se.useReducer=function(V,ee,ae){return O.H.useReducer(V,ee,ae)},Se.useRef=function(V){return O.H.useRef(V)},Se.useState=function(V){return O.H.useState(V)},Se.useSyncExternalStore=function(V,ee,ae){return O.H.useSyncExternalStore(V,ee,ae)},Se.useTransition=function(){return O.H.useTransition()},Se.version="19.2.0",Se}var Iv;function sp(){return Iv||(Iv=1,lm.exports=pw()),lm.exports}var U=sp();const gw=fw(U);var um={exports:{}},Vl={},cm={exports:{}},hm={};var Nv;function yw(){return Nv||(Nv=1,(function(r){function e(Y,te){var ce=Y.length;Y.push(te);e:for(;0<ce;){var Ne=ce-1>>>1,Ue=Y[Ne];if(0<o(Ue,te))Y[Ne]=te,Y[ce]=Ue,ce=Ne;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var te=Y[0],ce=Y.pop();if(ce!==te){Y[0]=ce;e:for(var Ne=0,Ue=Y.length,V=Ue>>>1;Ne<V;){var ee=2*(Ne+1)-1,ae=Y[ee],ue=ee+1,Ee=Y[ue];if(0>o(ae,ce))ue<Ue&&0>o(Ee,ae)?(Y[Ne]=Ee,Y[ue]=ce,Ne=ue):(Y[Ne]=ae,Y[ee]=ce,Ne=ee);else if(ue<Ue&&0>o(Ee,ce))Y[Ne]=Ee,Y[ue]=ce,Ne=ue;else break e}}return te}function o(Y,te){var ce=Y.sortIndex-te.sortIndex;return ce!==0?ce:Y.id-te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,b=3,D=!1,q=!1,K=!1,F=!1,ie=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ye(Y){for(var te=n(g);te!==null;){if(te.callback===null)s(g);else if(te.startTime<=Y)s(g),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(g)}}function pe(Y){if(K=!1,ye(Y),!q)if(n(p)!==null)q=!0,be||(be=!0,k());else{var te=n(g);te!==null&&ft(pe,te.startTime-Y)}}var be=!1,O=-1,R=5,C=-1;function L(){return F?!0:!(r.unstable_now()-C<R)}function M(){if(F=!1,be){var Y=r.unstable_now();C=Y;var te=!0;try{e:{q=!1,K&&(K=!1,J(O),O=-1),D=!0;var ce=b;try{t:{for(ye(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&L());){var Ne=T.callback;if(typeof Ne=="function"){T.callback=null,b=T.priorityLevel;var Ue=Ne(T.expirationTime<=Y);if(Y=r.unstable_now(),typeof Ue=="function"){T.callback=Ue,ye(Y),te=!0;break t}T===n(p)&&s(p),ye(Y)}else s(p);T=n(p)}if(T!==null)te=!0;else{var V=n(g);V!==null&&ft(pe,V.startTime-Y),te=!1}}break e}finally{T=null,b=ce,D=!1}te=void 0}}finally{te?k():be=!1}}}var k;if(typeof re=="function")k=function(){re(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ze=I.port2;I.port1.onmessage=M,k=function(){Ze.postMessage(null)}}else k=function(){ie(M,0)};function ft(Y,te){O=ie(function(){Y(r.unstable_now())},te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var ce=b;b=te;try{return Y()}finally{b=ce}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=b;b=Y;try{return te()}finally{b=ce}},r.unstable_scheduleCallback=function(Y,te,ce){var Ne=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Ne+ce:Ne):ce=Ne,Y){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ce+Ue,Y={id:E++,callback:te,priorityLevel:Y,startTime:ce,expirationTime:Ue,sortIndex:-1},ce>Ne?(Y.sortIndex=ce,e(g,Y),n(p)===null&&Y===n(g)&&(K?(J(O),O=-1):K=!0,ft(pe,ce-Ne))):(Y.sortIndex=Ue,e(p,Y),q||D||(q=!0,be||(be=!0,k()))),Y},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(Y){var te=b;return function(){var ce=b;b=te;try{return Y.apply(this,arguments)}finally{b=ce}}}})(hm)),hm}var Ov;function _w(){return Ov||(Ov=1,cm.exports=yw()),cm.exports}var fm={exports:{}},Yt={};var Dv;function vw(){if(Dv)return Yt;Dv=1;var r=sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Yt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Yt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:b,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Yt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Yt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Yt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,g){return p(g)},Yt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.2.0",Yt}var Mv;function Ew(){if(Mv)return fm.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=vw(),fm.exports}var xv;function Tw(){if(xv)return Vl;xv=1;var r=_w(),e=sp(),n=Ew();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case ie:return"Profiler";case F:return"StrictMode";case pe:return"Suspense";case be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case re:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case ye:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return i=t.displayName||null,i!==null?i:Ze(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ze(t(i))}catch{}}return null}var ft=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},Ne=[],Ue=-1;function V(t){return{current:t}}function ee(t){0>Ue||(t.current=Ne[Ue],Ne[Ue]=null,Ue--)}function ae(t,i){Ue++,Ne[Ue]=t.current,t.current=i}var ue=V(null),Ee=V(null),Ce=V(null),je=V(null);function Ot(t,i){switch(ae(Ce,i),ae(Ee,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Y_(i),t=X_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),ae(ue,t)}function st(){ee(ue),ee(Ee),ee(Ce)}function ms(t){t.memoizedState!==null&&ae(je,t);var i=ue.current,a=X_(i,t.type);i!==a&&(ae(Ee,t),ae(ue,a))}function oa(t){Ee.current===t&&(ee(ue),ee(Ee)),je.current===t&&(ee(je),Nl._currentValue=ce)}var la,ua;function ii(t){if(la===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);la=i&&i[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+ua}var No=!1;function ps(t,i){if(!t||No)return"";No=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var H=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){H=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){H=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{No=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return ps(t.type,!1);case 11:return ps(t.type.render,!1);case 1:return ps(t.type,!0);case 31:return ii("Activity");default:return""}}function Do(t){try{var i="",a=null;do i+=Oo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _t=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,fr=r.unstable_cancelCallback,uf=r.unstable_shouldYield,Au=r.unstable_requestPaint,en=r.unstable_now,gs=r.unstable_getCurrentPriorityLevel,Mo=r.unstable_ImmediatePriority,xo=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,cf=r.unstable_LowPriority,bu=r.unstable_IdlePriority,wu=r.log,Ru=r.unstable_setDisableYieldValue,jn=null,jt=null;function An(t){if(typeof wu=="function"&&Ru(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(jn,t)}catch{}}var dt=Math.clz32?Math.clz32:Iu,Cu=Math.log,ca=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/ca|0)|0}var ri=256,ys=262144,vt=4194304;function si(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=si(l):(_&=S,_!==0?h=si(_):a||(a=S&~t,a!==0&&(h=si(a))))):(S=l&~d,S!==0?h=si(S):_!==0?h=si(_):a||(a=l&~t,a!==0&&(h=si(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function oi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function _s(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ff(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-dt(a),Z=1<<X;S[X]=0,N[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var Q=H[X];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&vs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function vs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-dt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Vo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-dt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Lo(t,i){var a=i&-i;return a=(a&42)!==0?1:Es(a),(a&(t.suspendedLanes|i))!==0?0:a}function Es(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ou(){var t=te.p;return t!==0?t:(t=window.event,t===void 0?32:_v(t.type))}function Bn(t,i){var a=te.p;try{return te.p=t,i()}finally{te.p=a}}var qn=Math.random().toString(36).slice(2),Et="__reactFiber$"+qn,Lt="__reactProps$"+qn,li="__reactContainer$"+qn,ha="__reactEvents$"+qn,df="__reactListeners$"+qn,Du="__reactHandles$"+qn,Mu="__reactResources$"+qn,ui="__reactMarker$"+qn;function fa(t){delete t[Et],delete t[Lt],delete t[ha],delete t[df],delete t[Du]}function ci(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[li]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=nv(t);t!==null;){if(a=t[Et])return a;t=nv(t)}return i}t=a,a=t.parentNode}return null}function bn(t){if(t=t[Et]||t[li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function hi(t){var i=t[Mu];return i||(i=t[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[ui]=!0}var Po=new Set,Uo={};function fi(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(Uo[t]=i,t=0;t<i.length;t++)Po.add(i[t])}var ko=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function xu(t){return _t.call(zo,t)?!0:_t.call(jo,t)?!1:ko.test(t)?zo[t]=!0:(jo[t]=!0,!1)}function da(t,i,a){if(xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Bo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=mr(t)?"checked":"value";t._valueTracker=Bo(t,i,""+t[i])}}function Ts(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ss=/[\n"\\]/g;function sn(t){return t.replace(Ss,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?qo(t,_,Pt(i)):a!=null?qo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function Vu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function qo(t,i,a){i==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Lu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function gr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ft(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return yr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hn(){}var Go=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _r=null,pi=null;function As(t){var i=bn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ts(l)}break e;case"textarea":Lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&pr(t,!!a.multiple,i,!1)}}}var ya=!1;function vr(t,i,a){if(ya)return t(i,a);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(_r!==null||pi!==null)&&(Oc(),_r&&(i=_r,t=pi,pi=_r=null,As(i),t)))for(i=0;i<t.length;i++)As(t[i])}}function Fn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bs=!1;if(Rn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){bs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{bs=!1}var gi=null,Qo=null,ws=null;function Ko(){if(ws)return ws;var t,i=Qo,a=i.length,l,h="value"in gi?gi.value:gi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return ws=h.slice(t,1<l?1-l:void 0)}function Rs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Gn(){return!1}function zt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Gn,this.isPropagationStopped=Gn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=zt(Pi),Er=T({},Pi,{view:0,detail:0}),Yo=zt(Er),Tr,_a,_i,va=T({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(Tr=t.screenX-_i.screenX,_a=t.screenY-_i.screenY):_a=Tr=0,_i=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Xo=zt(va),Cs=T({},va,{dataTransfer:0}),ku=zt(Cs),ju=T({},Er,{relatedTarget:0}),Is=zt(ju),$o=T({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=zt($o),Ea=T({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=zt(Ea),qu=T({},Pi,{data:0}),vi=zt(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Sr(){return Qu}var tn=T({},Er,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ku=zt(tn),Yu=T({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=zt(Yu),c=T({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr}),y=zt(c),v=T({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=zt(v),j=T({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=zt(j),se=T({},Pi,{newState:0,oldState:0}),we=zt(se),mt=[9,13,27,32],He=Rn&&"CompositionEvent"in window,at=null;Rn&&"documentMode"in document&&(at=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!at,Ei=Rn&&(!He||at&&8<at&&11>=at),Qn=" ",Kn=!1;function Ns(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function PA(t,i){switch(t){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(Kn=!0,Qn);case"textInput":return t=i.data,t===Qn&&Kn?null:t;default:return null}}function UA(t,i){if(Sa)return t==="compositionend"||!He&&Ns(t,i)?(t=Ko(),ws=Qo=gi=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var kA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kA[t.type]:i==="textarea"}function ag(t,i,a,l){_r?pi?pi.push(l):pi=[l]:_r=l,i=Uc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Jo=null,Wo=null;function jA(t){q_(t,0)}function Xu(t){var i=dn(t);if(Ts(i))return t}function og(t,i){if(t==="change")return i}var lg=!1;if(Rn){var mf;if(Rn){var pf="oninput"in document;if(!pf){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),pf=typeof ug.oninput=="function"}mf=pf}else mf=!1;lg=mf&&(!document.documentMode||9<document.documentMode)}function cg(){Jo&&(Jo.detachEvent("onpropertychange",hg),Wo=Jo=null)}function hg(t){if(t.propertyName==="value"&&Xu(Wo)){var i=[];ag(i,Wo,t,wn(t)),vr(jA,i)}}function zA(t,i,a){t==="focusin"?(cg(),Jo=i,Wo=a,Jo.attachEvent("onpropertychange",hg)):t==="focusout"&&cg()}function BA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Wo)}function qA(t,i){if(t==="click")return Xu(i)}function HA(t,i){if(t==="input"||t==="change")return Xu(i)}function FA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:FA;function Zo(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!_t.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dg(t,i){var a=fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fg(a)}}function mg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?mg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function pg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=mi(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var GA=Rn&&"documentMode"in document&&11>=document.documentMode,Aa=null,yf=null,el=null,_f=!1;function gg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Aa==null||Aa!==mi(l)||(l=Aa,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Zo(el,l)||(el=l,l=Uc(yf,"onSelect"),0<l.length&&(i=new yi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Os(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},vf={},yg={};Rn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ds(t){if(vf[t])return vf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return vf[t]=i[a];return t}var _g=Ds("animationend"),vg=Ds("animationiteration"),Eg=Ds("animationstart"),QA=Ds("transitionrun"),KA=Ds("transitionstart"),YA=Ds("transitioncancel"),Tg=Ds("transitionend"),Sg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function Yn(t,i){Sg.set(t,i),fi(i,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},In=[],wa=0,Tf=0;function Ju(){for(var t=wa,i=Tf=wa=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function Wu(t,i,a,l){In[wa++]=t,In[wa++]=i,In[wa++]=a,In[wa++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,i,a,l){return Wu(t,i,a,l),Zu(t)}function Ms(t,i){return Wu(t,null,null,i),Zu(t)}function Ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-dt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Zu(t){if(50<Sl)throw Sl=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={};function XA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new XA(t,i,a,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ki(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Af(t)&&(_=1);else if(typeof t=="string")_=ew(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=gn(31,a,i,h),t.elementType=C,t.lanes=d,t;case K:return xs(a.children,h,d,i);case F:_=8,h|=24;break;case ie:return t=gn(12,a,i,h|2),t.elementType=ie,t.lanes=d,t;case pe:return t=gn(13,a,i,h),t.elementType=pe,t.lanes=d,t;case be:return t=gn(19,a,i,h),t.elementType=be,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case J:_=9;break e;case ye:_=11;break e;case O:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function xs(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function bf(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function wg(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function wf(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Rg=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=Rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Do(i)},Rg.set(t,i),i)}return{value:t,source:i,stack:Do(i)}}var Ca=[],Ia=0,tc=null,tl=0,On=[],Dn=0,Ar=null,Ti=1,Si="";function ji(t,i){Ca[Ia++]=tl,Ca[Ia++]=tc,tc=t,tl=i}function Cg(t,i,a){On[Dn++]=Ti,On[Dn++]=Si,On[Dn++]=Ar,Ar=t;var l=Ti;t=Si;var h=32-dt(l)-1;l&=~(1<<h),a+=1;var d=32-dt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ti=1<<32-dt(i)+h|a<<h|l,Si=d+t}else Ti=1<<d|a<<h|l,Si=t}function Rf(t){t.return!==null&&(ji(t,1),Cg(t,1,0))}function Cf(t){for(;t===tc;)tc=Ca[--Ia],Ca[Ia]=null,tl=Ca[--Ia],Ca[Ia]=null;for(;t===Ar;)Ar=On[--Dn],On[Dn]=null,Si=On[--Dn],On[Dn]=null,Ti=On[--Dn],On[Dn]=null}function Ig(t,i){On[Dn++]=Ti,On[Dn++]=Si,On[Dn++]=Ar,Ti=i.id,Si=i.overflow,Ar=t}var Bt=null,nt=null,ke=!1,br=null,Mn=!1,If=Error(s(519));function wr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nl(Nn(i,t)),If}function Ng(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[Lt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<bl.length;a++)De(bl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),gr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Q_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Hn),i=!0):i=!1,i||wr(t,!0)}function Og(t){for(Bt=t.return;Bt;)switch(Bt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Bt=Bt.return}}function Na(t){if(t!==Bt)return!1;if(!ke)return Og(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&nt&&wr(t),Og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=tv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=tv(t)}else i===27?(i=nt,jr(t.type)?(t=Jd,Jd=null,nt=t):nt=i):nt=Bt?Vn(t.stateNode.nextSibling):null;return!0}function Vs(){nt=Bt=null,ke=!1}function Nf(){var t=br;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),br=null),t}function nl(t){br===null?br=[t]:br.push(t)}var Of=V(null),Ls=null,zi=null;function Rr(t,i,a){ae(Of,i._currentValue),i._currentValue=a}function Bi(t){t._currentValue=Of.current,ee(Of)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Mf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Df(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Oa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Mf(i,t,a,l),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ps(t){Ls=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Dg(Ls,t)}function ic(t,i){return Ls===null&&Ps(t),Dg(t,i)}function Dg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(s(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var $A=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},JA=r.unstable_scheduleCallback,WA=r.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new $A,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&JA(WA,function(){t.controller.abort()})}var rl=null,Vf=0,Da=0,Ma=null;function ZA(t,i){if(rl===null){var a=rl=[];Vf=0,Da=Ud(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Mg,Mg),i}function Mg(){if(--Vf===0&&rl!==null){Ma!==null&&(Ma.status="fulfilled");var t=rl;rl=null,Da=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function eb(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var xg=Y.S;Y.S=function(t,i){g_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ZA(t,i),xg!==null&&xg(t,i)};var Us=V(null);function Lf(){var t=Us.current;return t!==null?t:et.pooledCache}function rc(t,i){i===null?ae(Us,Us.current):ae(Us,i.pool)}function Vg(){var t=Lf();return t===null?null:{parent:At._currentValue,pool:t}}var xa=Error(s(460)),Pf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function Lg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Hn,Hn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t;default:if(typeof i.status=="string")i.then(Hn,Hn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,kg(t),t}throw js=i,xa}}function ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(js=a,xa):a}}var js=null;function Ug(){if(js===null)throw Error(s(459));var t=js;return js=null,t}function kg(t){if(t===xa||t===sc)throw Error(s(483))}var Va=null,sl=0;function oc(t){var i=sl;return sl+=1,Va===null&&(Va=[]),Pg(Va,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jg(t){function i(P,x){if(t){var z=P.deletions;z===null?(P.deletions=[x],P.flags|=16):z.push(x)}}function a(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=ki(P,x),P.index=0,P.sibling=null,P}function d(P,x,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<x?(P.flags|=67108866,x):z):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,x,z,$){return x===null||x.tag!==6?(x=bf(z,P.mode,$),x.return=P,x):(x=h(x,z),x.return=P,x)}function N(P,x,z,$){var de=z.type;return de===K?X(P,x,z.props.children,$,z.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&ks(de)===x.type)?(x=h(x,z.props),al(x,z),x.return=P,x):(x=ec(z.type,z.key,z.props,null,P.mode,$),al(x,z),x.return=P,x)}function B(P,x,z,$){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=wf(z,P.mode,$),x.return=P,x):(x=h(x,z.children||[]),x.return=P,x)}function X(P,x,z,$,de){return x===null||x.tag!==7?(x=xs(z,P.mode,$,de),x.return=P,x):(x=h(x,z),x.return=P,x)}function Z(P,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=bf(""+x,P.mode,z),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case D:return z=ec(x.type,x.key,x.props,null,P.mode,z),al(z,x),z.return=P,z;case q:return x=wf(x,P.mode,z),x.return=P,x;case R:return x=ks(x),Z(P,x,z)}if(ft(x)||k(x))return x=xs(x,P.mode,z,null),x.return=P,x;if(typeof x.then=="function")return Z(P,oc(x),z);if(x.$$typeof===re)return Z(P,ic(P,x),z);lc(P,x)}return null}function H(P,x,z,$){var de=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:S(P,x,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===de?N(P,x,z,$):null;case q:return z.key===de?B(P,x,z,$):null;case R:return z=ks(z),H(P,x,z,$)}if(ft(z)||k(z))return de!==null?null:X(P,x,z,$,null);if(typeof z.then=="function")return H(P,x,oc(z),$);if(z.$$typeof===re)return H(P,x,ic(P,z),$);lc(P,z)}return null}function Q(P,x,z,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(z)||null,S(x,P,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return P=P.get($.key===null?z:$.key)||null,N(x,P,$,de);case q:return P=P.get($.key===null?z:$.key)||null,B(x,P,$,de);case R:return $=ks($),Q(P,x,z,$,de)}if(ft($)||k($))return P=P.get(z)||null,X(x,P,$,de,null);if(typeof $.then=="function")return Q(P,x,z,oc($),de);if($.$$typeof===re)return Q(P,x,z,ic(x,$),de);lc(x,$)}return null}function he(P,x,z,$){for(var de=null,Be=null,fe=x,Ie=x=0,xe=null;fe!==null&&Ie<z.length;Ie++){fe.index>Ie?(xe=fe,fe=null):xe=fe.sibling;var qe=H(P,fe,z[Ie],$);if(qe===null){fe===null&&(fe=xe);break}t&&fe&&qe.alternate===null&&i(P,fe),x=d(qe,x,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe,fe=xe}if(Ie===z.length)return a(P,fe),ke&&ji(P,Ie),de;if(fe===null){for(;Ie<z.length;Ie++)fe=Z(P,z[Ie],$),fe!==null&&(x=d(fe,x,Ie),Be===null?de=fe:Be.sibling=fe,Be=fe);return ke&&ji(P,Ie),de}for(fe=l(fe);Ie<z.length;Ie++)xe=Q(fe,P,Ie,z[Ie],$),xe!==null&&(t&&xe.alternate!==null&&fe.delete(xe.key===null?Ie:xe.key),x=d(xe,x,Ie),Be===null?de=xe:Be.sibling=xe,Be=xe);return t&&fe.forEach(function(Fr){return i(P,Fr)}),ke&&ji(P,Ie),de}function ge(P,x,z,$){if(z==null)throw Error(s(151));for(var de=null,Be=null,fe=x,Ie=x=0,xe=null,qe=z.next();fe!==null&&!qe.done;Ie++,qe=z.next()){fe.index>Ie?(xe=fe,fe=null):xe=fe.sibling;var Fr=H(P,fe,qe.value,$);if(Fr===null){fe===null&&(fe=xe);break}t&&fe&&Fr.alternate===null&&i(P,fe),x=d(Fr,x,Ie),Be===null?de=Fr:Be.sibling=Fr,Be=Fr,fe=xe}if(qe.done)return a(P,fe),ke&&ji(P,Ie),de;if(fe===null){for(;!qe.done;Ie++,qe=z.next())qe=Z(P,qe.value,$),qe!==null&&(x=d(qe,x,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe);return ke&&ji(P,Ie),de}for(fe=l(fe);!qe.done;Ie++,qe=z.next())qe=Q(fe,P,Ie,qe.value,$),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Ie:qe.key),x=d(qe,x,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe);return t&&fe.forEach(function(hw){return i(P,hw)}),ke&&ji(P,Ie),de}function We(P,x,z,$){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:e:{for(var de=z.key;x!==null;){if(x.key===de){if(de=z.type,de===K){if(x.tag===7){a(P,x.sibling),$=h(x,z.props.children),$.return=P,P=$;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&ks(de)===x.type){a(P,x.sibling),$=h(x,z.props),al($,z),$.return=P,P=$;break e}a(P,x);break}else i(P,x);x=x.sibling}z.type===K?($=xs(z.props.children,P.mode,$,z.key),$.return=P,P=$):($=ec(z.type,z.key,z.props,null,P.mode,$),al($,z),$.return=P,P=$)}return _(P);case q:e:{for(de=z.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){a(P,x.sibling),$=h(x,z.children||[]),$.return=P,P=$;break e}else{a(P,x);break}else i(P,x);x=x.sibling}$=wf(z,P.mode,$),$.return=P,P=$}return _(P);case R:return z=ks(z),We(P,x,z,$)}if(ft(z))return he(P,x,z,$);if(k(z)){if(de=k(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ge(P,x,z,$)}if(typeof z.then=="function")return We(P,x,oc(z),$);if(z.$$typeof===re)return We(P,x,ic(P,z),$);lc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(a(P,x.sibling),$=h(x,z),$.return=P,P=$):(a(P,x),$=bf(z,P.mode,$),$.return=P,P=$),_(P)):a(P,x)}return function(P,x,z,$){try{sl=0;var de=We(P,x,z,$);return Va=null,de}catch(fe){if(fe===xa||fe===sc)throw fe;var Be=gn(29,fe,null,P.mode);return Be.lanes=$,Be.return=P,Be}finally{}}}var zs=jg(!0),zg=jg(!1),Cr=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Zu(t),Ag(t,null,a),i}return Wu(t,l,i,a),Zu(t)}function ol(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}function jf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function ll(){if(zf){var t=Ma;if(t!==null)throw t}}function ul(t,i,a,l){zf=!1;var h=t.updateQueue;Cr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=N))}if(d!==null){var Z=h.baseState;_=0,X=B=N=null,S=d;do{var H=S.lane&-536870913,Q=H!==S.lane;if(Q?(Me&H)===H:(l&H)===H){H!==0&&H===Da&&(zf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,ge=S;H=i;var We=a;switch(ge.tag){case 1:if(he=ge.payload,typeof he=="function"){Z=he.call(We,Z,H);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ge.payload,H=typeof he=="function"?he.call(We,Z,H):he,H==null)break e;Z=T({},Z,H);break e;case 2:Cr=!0}}H=S.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Q,N=Z):X=X.next=Q,_|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(N=Z),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Vr|=_,t.lanes=_,t.memoizedState=Z}}function Bg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Bg(a[t],i)}var La=V(null),uc=V(0);function Hg(t,i){t=$i,ae(uc,t),ae(La,i),$i=t|i.baseLanes}function Bf(){ae(uc,$i),ae(La,La.current)}function qf(){$i=uc.current,ee(La),ee(uc)}var yn=V(null),xn=null;function Or(t){var i=t.alternate;ae(pt,pt.current&1),ae(yn,t),xn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(xn=t)}function Hf(t){ae(pt,pt.current),ae(yn,t),xn===null&&(xn=t)}function Fg(t){t.tag===22?(ae(pt,pt.current),ae(yn,t),xn===null&&(xn=t)):Dr()}function Dr(){ae(pt,pt.current),ae(yn,yn.current)}function _n(t){ee(yn),xn===t&&(xn=null),ee(pt)}var pt=V(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||$d(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qi=0,Re=null,$e=null,bt=null,hc=!1,Pa=!1,Bs=!1,fc=0,cl=0,Ua=null,tb=0;function ct(){throw Error(s(321))}function Ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function Gf(t,i,a,l,h,d){return qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Cy:ad,Bs=!1,d=a(l,h),Bs=!1,Pa&&(d=Qg(i,a,l,h)),Gg(t),d}function Gg(t){Y.H=dl;var i=$e!==null&&$e.next!==null;if(qi=0,bt=$e=Re=null,hc=!1,cl=0,Ua=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&nc(t)&&(wt=!0))}function Qg(t,i,a,l){Re=t;var h=0;do{if(Pa&&(Ua=null),cl=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,bt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Iy,d=i(a,l)}while(Pa);return d}function nb(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?hl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function Qf(){var t=fc!==0;return fc=0,t}function Kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}qi=0,bt=$e=Re=null,Pa=!1,cl=fc=0,Ua=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Re.memoizedState=bt=t:bt=bt.next=t,bt}function gt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=bt===null?Re.memoizedState:bt.next;if(i!==null)bt=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},bt===null?Re.memoizedState=bt=t:bt=bt.next=t}return bt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var i=cl;return cl+=1,Ua===null&&(Ua=[]),t=Pg(Ua,t,i),i=Re,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Cy:ad),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===re)return qt(t)}throw Error(s(438,String(t)))}function Xf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function Hi(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=gt();return $f(i,$e,t)}function $f(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,X=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Me&Z)===Z:(qi&Z)===Z){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Da&&(X=!0);else if((qi&H)===H){B=B.next,H===Da&&(X=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=Z,_=d):N=N.next=Z,Re.lanes|=H,Vr|=H;Z=B.action,Bs&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=H,_=d):N=N.next=H,Re.lanes|=Z,Vr|=Z;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!pn(d,t.memoizedState)&&(wt=!0,X&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,i,a){var l=Re,h=gt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,ed($g.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},Xg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(qi&127)!==0||Yg(l,i,a)}return a}function Yg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=dc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Xg(t,i,a,l){i.value=a,i.getSnapshot=l,Jg(i)&&Wg(t)}function $g(t,i,a){return a(function(){Jg(i)&&Wg(t)})}function Jg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function Wg(t){var i=Ms(t,2);i!==null&&hn(i,t,2)}function Wf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Bs){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:t},i}function Zg(t,i,a,l){return t.baseState=a,$f(t,$e,typeof l=="function"?l:Hi)}function ib(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ey(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ey(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,_={};Y.T=_;try{var S=a(h,l),N=Y.S;N!==null&&N(_,S),ty(t,i,S)}catch(B){Zf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=a(h,l),ty(t,i,d)}catch(B){Zf(t,i,B)}}function ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(t,i,l)},function(l){return Zf(t,i,l)}):ny(t,i,a)}function ny(t,i,a){i.status="fulfilled",i.value=a,iy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ey(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,iy(i),i=i.next;while(i!==l)}t.action=null}function iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function sy(t,i){if(ke){var a=et.formState;if(a!==null){e:{var l=Re;if(ke){if(nt){t:{for(var h=nt,d=Mn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Vn(h.nextSibling),l=h.data==="F!";break e}}wr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=by.bind(null,Re,l),l.dispatch=a,l=Wf(!1),d=sd.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=ib.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ay(t){var i=gt();return oy(i,$e,t)}function oy(t,i,a){if(i=$f(t,i,ry)[0],t=pc(Hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=hl(i)}catch(_){throw _===xa?sc:_}else l=i;i=gt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,ka(9,{destroy:void 0},rb.bind(null,h,a),null)),[l,d,t]}function rb(t,i){t.action=i}function ly(t){var i=gt(),a=$e;if(a!==null)return oy(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=dc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function uy(){return gt().memoizedState}function gc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Ff(l,$e.memoizedState.deps)?h.memoizedState=ka(i,d,a,l):(Re.flags|=t,h.memoizedState=ka(1|i,d,a,l))}function cy(t,i){gc(8390656,8,t,i)}function ed(t,i){yc(2048,8,t,i)}function sb(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=dc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function hy(t){var i=gt().memoizedState;return sb({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function fy(t,i){return yc(4,2,t,i)}function dy(t,i){return yc(4,4,t,i)}function my(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function py(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,my.bind(null,i,t),a)}function td(){}function gy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function yy(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Ff(i,l[1]))return l[0];if(l=t(),Bs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function nd(t,i,a){return a===void 0||(qi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=__(),Re.lanes|=t,Vr|=t,a)}function _y(t,i,a,l){return pn(a,i)?a:La.current!==null?(t=nd(t,a,l),pn(t,i)||(wt=!0),t):(qi&42)===0||(qi&1073741824)!==0&&(Me&261930)===0?(wt=!0,t.memoizedState=a):(t=__(),Re.lanes|=t,Vr|=t,i)}function vy(t,i,a,l,h){var d=te.p;te.p=d!==0&&8>d?d:8;var _=Y.T,S={};Y.T=S,sd(t,!1,i,a);try{var N=h(),B=Y.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=eb(N,l);fl(t,i,X,Tn(t))}else fl(t,i,l,Tn(t))}catch(Z){fl(t,i,{then:function(){},status:"rejected",reason:Z},Tn())}finally{te.p=d,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function ab(){}function id(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ey(t).queue;vy(t,h,i,ce,a===null?ab:function(){return Ty(t),a(l)})}function Ey(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ty(t){var i=Ey(t);i.next===null&&(i=t.alternate.memoizedState),fl(t,i.next.queue,{},Tn())}function rd(){return qt(Nl)}function Sy(){return gt().memoizedState}function Ay(){return gt().memoizedState}function ob(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Ir(a);var l=Nr(i,t,a);l!==null&&(hn(l,i,a),ol(l,i,a)),i={cache:xf()},t.payload=i;return}i=i.return}}function lb(t,i,a){var l=Tn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?wy(i,a):(a=Sf(t,i,a,l),a!==null&&(hn(a,t,l),Ry(a,i,l)))}function by(t,i,a){var l=Tn();fl(t,i,a,l)}function fl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))wy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,_))return Wu(t,i,h,0),et===null&&Ju(),!1}catch{}finally{}if(a=Sf(t,i,h,l),a!==null)return hn(a,t,l),Ry(a,i,l),!0}return!1}function sd(t,i,a,l){if(l={lane:2,revertLane:Ud(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=Sf(t,a,l,2),i!==null&&hn(i,t,2)}function _c(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function wy(t,i){Pa=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ry(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Vo(t,a)}}var dl={readContext:qt,use:mc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};dl.useEffectEvent=ct;var Cy={readContext:qt,use:mc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,my.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Bs){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Bs){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Wf(t);var i=t.queue,a=by.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,i){var a=nn();return nd(a,t,i)},useTransition:function(){var t=Wf(!1);return t=vy.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Me&127)!==0||Yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,cy($g.bind(null,l,d,t),[t]),l.flags|=2048,ka(9,{destroy:void 0},Xg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(ke){var a=Si,l=Ti;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=tb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:sy,useActionState:sy,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return nn().memoizedState=ob.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:qt,use:mc,useCallback:gy,useContext:qt,useEffect:ed,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:pc,useRef:uy,useState:function(){return pc(Hi)},useDebugValue:td,useDeferredValue:function(t,i){var a=gt();return _y(a,$e.memoizedState,t,i)},useTransition:function(){var t=pc(Hi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Kg,useId:Sy,useHostTransitionStatus:rd,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=gt();return Zg(a,$e,t,i)},useMemoCache:Xf,useCacheRefresh:Ay};ad.useEffectEvent=hy;var Iy={readContext:qt,use:mc,useCallback:gy,useContext:qt,useEffect:ed,useImperativeHandle:py,useInsertionEffect:fy,useLayoutEffect:dy,useMemo:yy,useReducer:Jf,useRef:uy,useState:function(){return Jf(Hi)},useDebugValue:td,useDeferredValue:function(t,i){var a=gt();return $e===null?nd(a,t,i):_y(a,$e.memoizedState,t,i)},useTransition:function(){var t=Jf(Hi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:hl(t),i]},useSyncExternalStore:Kg,useId:Sy,useHostTransitionStatus:rd,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=gt();return $e!==null?Zg(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:Ay};Iy.useEffectEvent=hy;function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Ir(l);h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(hn(i,t,l),ol(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=Ir(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Nr(t,h,l),i!==null&&(hn(i,t,l),ol(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),l=Ir(a);l.tag=2,i!=null&&(l.callback=i),i=Nr(t,l,a),i!==null&&(hn(i,t,a),ol(i,t,a))}};function Ny(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Oy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Dy(t){$u(t)}function My(t){console.error(t)}function xy(t){$u(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Vy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,a){return a=Ir(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function Ly(t){return t=Ir(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Vy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Vy(i,a,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function ub(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Oa(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?Dc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(s(435,a.tag))}return Vd(t,l,h),Dc(),!1}if(ke)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==If&&(t=Error(s(422),{cause:l}),nl(Nn(t,a)))):(l!==If&&(i=Error(s(423),{cause:l}),nl(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Nn(l,a),h=ud(t.stateNode,l,h),jf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),Tl===null?Tl=[d]:Tl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ud(a.stateNode,l,t),jf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ly(h),Py(h,t,a,l),jf(a,h),!1}a=a.return}while(a!==null);return!1}var cd=Error(s(461)),wt=!1;function Ht(t,i,a,l){i.child=t===null?zg(i,null,a,l):zs(i,t.child,a,l)}function Uy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ps(i),l=Gf(t,i,a,_,d,h),S=Qf(),t!==null&&!wt?(Kf(t,i,h),Fi(t,i,h)):(ke&&S&&Rf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,jy(t,i,d,l,h)):(t=ec(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_d(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(_,l)&&t.ref===i.ref)return Fi(t,i,h)}return i.flags|=1,t=ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function jy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,_d(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Fi(t,i,h)}return hd(t,i,a,l,h)}function zy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return By(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):Bf(),Fg(i);else return l=i.lanes=536870912,By(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),Hg(i,d),Dr(),i.memoizedState=null):(t!==null&&rc(i,null),Bf(),Dr());return Ht(t,i,h,a),i.child}function ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function By(t,i,a,l,h){var d=Lf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),Bf(),Fg(i),t!==null&&Oa(t,i,l,!0),i.childLanes=h,null}function Ec(t,i){return i=Sc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function qy(t,i,a){return zs(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function cb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Ec(i,l),i.lanes=536870912,ml(null,t);if(Hf(i),(t=nt)?(t=ev(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw wr(i);return i.lanes=536870912,null}return Ec(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Hf(i),h)if(i.flags&256)i.flags&=-257,i=qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Oa(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=et,l!==null&&(_=Lo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ms(t,_),hn(l,t,_),cd;Dc(),i=qy(t,i,a)}else t=d.treeContext,nt=Vn(_.nextSibling),Bt=i,ke=!0,br=null,Mn=!1,t!==null&&Ig(i,t),i=Ec(i,l),i.flags|=4096;return i}return t=ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hd(t,i,a,l,h){return Ps(i),a=Gf(t,i,a,l,void 0,h),l=Qf(),t!==null&&!wt?(Kf(t,i,h),Fi(t,i,h)):(ke&&l&&Rf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function Hy(t,i,a,l,h,d){return Ps(i),i.updateQueue=null,a=Qg(i,l,a,h),Gg(t),l=Qf(),t!==null&&!wt?(Kf(t,i,d),Fi(t,i,d)):(ke&&l&&Rf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function Fy(t,i,a,l,h){if(Ps(i),i.stateNode===null){var d=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Uf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):Ra,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(od(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&ld.enqueueReplaceState(d,d.state,null),ul(i,l,d,h),ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=qs(a,S);d.props=N;var B=d.context,X=a.contextType;_=Ra,typeof X=="object"&&X!==null&&(_=qt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Oy(i,d,l,_),Cr=!1;var H=i.memoizedState;d.state=H,ul(i,l,d,h),ll(),B=i.memoizedState,S||H!==B||Cr?(typeof Z=="function"&&(od(i,a,Z,l),B=i.memoizedState),(N=Cr||Ny(i,a,N,l,H,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,kf(t,i),_=i.memoizedProps,X=qs(a,_),d.props=X,Z=i.pendingProps,H=d.context,B=a.contextType,N=Ra,typeof B=="object"&&B!==null&&(N=qt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==N)&&Oy(i,d,l,N),Cr=!1,H=i.memoizedState,d.state=H,ul(i,l,d,h),ll();var Q=i.memoizedState;_!==Z||H!==Q||Cr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof S=="function"&&(od(i,a,S,l),Q=i.memoizedState),(X=Cr||Ny(i,a,X,l,H,Q,N)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=zs(i,t.child,null,h),i.child=zs(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Fi(t,i,h),t}function Gy(t,i,a,l){return Vs(),i.flags|=256,Ht(t,i,a,l),i.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Vg()}}function md(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function Qy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Or(i):Dr(),(t=nt)?(t=ev(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ar!==null?{id:Ti,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},a=wg(t),a.return=i,i.child=a,Bt=i,nt=null)):t=null,t===null)throw wr(i);return $d(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Dr(),h=i.mode,S=Sc({mode:"hidden",children:S},h),l=xs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,_,a),i.memoizedState=fd,ml(null,l)):(Or(i),pd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=gd(t,i,a)):i.memoizedState!==null?(Dr(),i.child=t.child,i.flags|=128,i=null):(Dr(),S=l.fallback,h=i.mode,l=Sc({mode:"visible",children:l.children},h),S=xs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,zs(i,t.child,null,a),l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,_,a),i.memoizedState=fd,i=ml(null,l));else if(Or(i),$d(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,nl({value:l,source:null,stack:null}),i=gd(t,i,a)}else if(wt||Oa(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=et,_!==null&&(l=Lo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ms(t,l),hn(_,t,l),cd;Xd(S)||Dc(),i=gd(t,i,a)}else Xd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=Vn(S.nextSibling),Bt=i,ke=!0,br=null,Mn=!1,t!==null&&Ig(i,t),i=pd(i,l.children),i.flags|=4096);return i}return h?(Dr(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=ki(B,S):(S=xs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,ml(null,l),l=i.child,S=t.child.memoizedState,S===null?S=dd(a):(h=S.cachePool,h!==null?(N=At._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Vg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=md(t,_,a),i.memoizedState=fd,ml(t.child,l)):(Or(i),a=t.child,t=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function pd(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function gd(t,i,a){return zs(i,t.child,null,a),t=pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ky(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function yd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Yy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=pt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(pt,_),Ht(t,i,l,a),l=ke?tl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,i);else if(t.tag===19)Ky(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(i,!0,a,null,d,l);break;case"together":yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Fi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Vr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Oa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function hb(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Rr(i,At,t.memoizedState.cache),Vs();break;case 27:case 5:ms(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Qy(t,i,a):(Or(i),t=Fi(t,i,a),t!==null?t.sibling:null);Or(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Oa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Yy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(pt,pt.current),l)break;return null;case 22:return i.lanes=0,zy(t,i,a,i.pendingProps);case 24:Rr(i,At,t.memoizedState.cache)}return Fi(t,i,a)}function Xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!_d(t,a)&&(i.flags&128)===0)return wt=!1,hb(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,ke&&(i.flags&1048576)!==0&&Cg(i,tl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=ks(i.elementType),i.type=t,typeof t=="function")Af(t)?(l=qs(t,l),i.tag=1,i=Fy(null,i,t,l,a)):(i.tag=0,i=hd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ye){i.tag=11,i=Uy(null,i,t,l,a);break e}else if(h===O){i.tag=14,i=ky(null,i,t,l,a);break e}}throw i=Ze(t)||t,Error(s(306,i,""))}}return i;case 0:return hd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=qs(l,i.pendingProps),Fy(t,i,l,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,kf(t,i),ul(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Rr(i,At,l),l!==d.cache&&Mf(i,[At],a,!0),ll(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Gy(t,i,l,a);break e}else if(l!==h){h=Nn(Error(s(424)),i),nl(h),i=Gy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Vn(t.firstChild),Bt=i,ke=!0,br=null,Mn=!0,a=zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vs(),l===h){i=Fi(t,i,a);break e}Ht(t,i,l,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=av(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=kc(Ce.current).createElement(a),l[Et]=i,l[Lt]=t,Ft(l,a,t),Tt(l),i.stateNode=l):i.memoizedState=av(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ms(i),t===null&&ke&&(l=i.stateNode=iv(i.type,i.pendingProps,Ce.current),Bt=i,Mn=!0,h=nt,jr(i.type)?(Jd=h,nt=Vn(l.firstChild)):nt=h),Ht(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=nt)&&(l=Bb(l,i.type,i.pendingProps,Mn),l!==null?(i.stateNode=l,Bt=i,nt=Vn(l.firstChild),Mn=!1,h=!0):h=!1),h||wr(i)),ms(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Qd(h,d)?l=null:_!==null&&Qd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,nb,null,null,a),Nl._currentValue=h),Tc(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=nt)&&(a=qb(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,Bt=i,nt=null,t=!0):t=!1),t||wr(i)),null;case 13:return Qy(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=zs(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Uy(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Rr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ps(i),h=qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return ky(t,i,i.type,i.pendingProps,a);case 15:return jy(t,i,i.type,i.pendingProps,a);case 19:return Yy(t,i,a);case 31:return cb(t,i,a);case 22:return zy(t,i,a,i.pendingProps);case 24:return Ps(i),l=qt(At),t===null?(h=Lf(),h===null&&(h=et,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Uf(i),Rr(i,At,h)):((t.lanes&a)!==0&&(kf(t,i),ul(i,null,null,a),ll()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,At,l)):(l=d.cache,Rr(i,At,l),l!==h.cache&&Mf(i,[At],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(t){t.flags|=4}function vd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(S_())t.flags|=8192;else throw js=ac,Pf}else t.flags&=-16777217}function $y(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!hv(i))if(S_())t.flags|=8192;else throw js=ac,Pf}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nu():536870912,t.lanes|=i,qa|=i)}function pl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function fb(t,i,a){var l=i.pendingProps;switch(Cf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(At),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?Gi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Nf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Gi(i),d!==null?(it(i),$y(i,d)):(it(i),vd(i,h,null,l,a))):d?d!==t.memoizedState?(Gi(i),it(i),$y(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Gi(i),it(i),vd(i,h,t,l,a)),null;case 27:if(oa(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ue.current,Na(i)?Ng(i):(t=iv(h,l,a),i.stateNode=t,Gi(i))}return it(i),null;case 5:if(oa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ue.current,Na(i))Ng(i);else{var _=kc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Et]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Ft(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Gi(i)}}return it(i),vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Bt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Q_(t.nodeValue,a)),t||wr(i,!0)}else t=kc(t).createTextNode(l),t[Et]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=Nf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),it(i),null);case 4:return st(),t===null&&Bd(i.stateNode.containerInfo),it(i),null;case 10:return Bi(i.type),it(i),null;case 19:if(ee(pt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)pl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,pl(l,!1),t=d.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)bg(a,t),a=a.sibling;return ae(pt,pt.current&1|2),ke&&ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Ic&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),pl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return it(i),null}else 2*en()-l.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,h=!0,pl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=pt.current,ae(pt,h?a&1|2:a&1),ke&&ji(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return _n(i),qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Us),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(At),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function db(t,i){switch(Cf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Bi(At),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return oa(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));Vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(pt),null;case 4:return st(),null;case 10:return Bi(i.type),null;case 22:case 23:return _n(i),qf(),t!==null&&ee(Us),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Bi(At),null;case 25:return null;default:return null}}function Jy(t,i){switch(Cf(i),i.tag){case 3:Bi(At),st();break;case 26:case 27:case 5:oa(i);break;case 4:st();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:ee(pt);break;case 10:Bi(i.type);break;case 22:case 23:_n(i),qf(),t!==null&&ee(Us);break;case 24:Bi(At)}}function gl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Ye(i,i.return,S)}}function Mr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(X){Ye(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Ye(i,i.return,X)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{qg(i,a)}catch(l){Ye(t,t.return,l)}}}function Zy(t,i,a){a.props=qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function yl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function Ai(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function e_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function Ed(t,i,a){try{var l=t.stateNode;Lb(l,t.type,a,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function t_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Hn));else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Sd(t,i,a),t=t.sibling;t!==null;)Sd(t,i,a),t=t.sibling}function bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bc(t,i,a),t=t.sibling;t!==null;)bc(t,i,a),t=t.sibling}function n_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[Et]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var Qi=!1,Rt=!1,Ad=!1,i_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function mb(t,i){if(t=t.containerInfo,Fd=Gc,t=pg(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,X=0,Z=t,H=null;t:for(;;){for(var Q;Z!==a||h!==0&&Z.nodeType!==3||(S=_+h),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)H=Z,Z=Q;for(;;){if(Z===t)break t;if(H===a&&++B===h&&(S=_),H===d&&++X===l&&(N=_),(Q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Gc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=qs(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function r_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&gl(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Wy(a),l&512&&yl(a,a.return);break;case 3:if(Yi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&n_(a);case 26:case 5:Yi(t,a),i===null&&l&4&&e_(a),l&512&&yl(a,a.return);break;case 12:Yi(t,a);break;case 31:Yi(t,a),l&4&&o_(t,a);break;case 13:Yi(t,a),l&4&&l_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Ab.bind(null,a),Hb(t,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){i=i!==null&&i.memoizedState!==null||Rt,h=Qi;var d=Rt;Qi=l,(Rt=i)&&!d?Xi(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Qi=h,Rt=d}break;case 30:break;default:Yi(t,a)}}function s_(t){var i=t.alternate;i!==null&&(t.alternate=null,s_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Ki(t,i,a){for(a=a.child;a!==null;)a_(t,i,a),a=a.sibling}function a_(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Rt||Ai(a,i),Ki(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ai(a,i);var l=ot,h=on;jr(a.type)&&(ot=a.stateNode,on=!1),Ki(t,i,a),Rl(a.stateNode),ot=l,on=h;break;case 5:Rt||Ai(a,i);case 6:if(l=ot,h=on,ot=null,Ki(t,i,a),ot=l,on=h,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(on?(t=ot,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),$a(t)):W_(ot,a.stateNode));break;case 4:l=ot,h=on,ot=a.stateNode.containerInfo,on=!0,Ki(t,i,a),ot=l,on=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),Rt||Mr(4,a,i),Ki(t,i,a);break;case 1:Rt||(Ai(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,i,l)),Ki(t,i,a);break;case 21:Ki(t,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,Ki(t,i,a),Rt=l;break;default:Ki(t,i,a)}}function o_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(a){Ye(i,i.return,a)}}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(a){Ye(i,i.return,a)}}function pb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new i_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new i_),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=pb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=bb.bind(null,t,l);l.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){ot=S.stateNode,on=!1;break e}break;case 5:ot=S.stateNode,on=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,on=!0;break e}S=S.return}if(ot===null)throw Error(s(160));a_(d,_,h),ot=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)u_(i,t),i=i.sibling}var Xn=null;function u_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),l&4&&(Mr(3,t,t.return),gl(3,t),Mr(5,t,t.return));break;case 1:ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ui]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Et]=t,Tt(d),l=d;break e;case"link":var _=uv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(_=uv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,Tt(d),l=d}t.stateNode=l}else cv(h,t.type,t.stateNode);else t.stateNode=lv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?cv(h,t.type,t.stateNode):lv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),l&512&&(Rt||a===null||Ai(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ad=!0);break;case 6:if(ln(i,t),un(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(Bc=null,h=Xn,Xn=jc(i.containerInfo),ln(i,t),Xn=h,un(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{$a(i.containerInfo)}catch(he){Ye(t,t.return,he)}Ad&&(Ad=!1,c_(t));break;case 4:l=Xn,Xn=jc(t.stateNode.containerInfo),ln(i,t),un(t),Xn=l;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Qi,X=Rt;if(Qi=B||h,Rt=X||N,ln(i,t),Rt=X,Qi=B,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Qi||Rt||Hs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var Z=N.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(he){Ye(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Ye(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?Z_(Q,!0):Z_(N.stateNode,!1)}catch(he){Ye(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:ln(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(t_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(t);bc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(an(_,""),a.flags&=-33);var S=Td(t);bc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Td(t);Sd(t,B,N);break;default:throw Error(s(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function c_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;c_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)r_(t,i.alternate,i),i=i.sibling}function Hs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Hs(i);break;case 1:Ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zy(i,i.return,a),Hs(i);break;case 27:Rl(i.stateNode);case 26:case 5:Ai(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}t=t.sibling}}function Xi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xi(h,d,a),gl(4,d);break;case 1:if(Xi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Bg(N[h],S)}catch(B){Ye(l,l.return,B)}}a&&_&64&&Wy(d),yl(d,d.return);break;case 27:n_(d);case 26:case 5:Xi(h,d,a),a&&l===null&&_&4&&e_(d),yl(d,d.return);break;case 12:Xi(h,d,a);break;case 31:Xi(h,d,a),a&&_&4&&o_(h,d);break;case 13:Xi(h,d,a),a&&_&4&&l_(h,d);break;case 22:d.memoizedState===null&&Xi(h,d,a),yl(d,d.return);break;case 30:break;default:Xi(h,d,a)}i=i.sibling}}function bd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function wd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function $n(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)h_(t,i,a,l),i=i.sibling}function h_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:$n(t,i,a,l),h&2048&&gl(9,i);break;case 1:$n(t,i,a,l);break;case 3:$n(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){$n(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else $n(t,i,a,l);break;case 31:$n(t,i,a,l);break;case 13:$n(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?$n(t,i,a,l):_l(t,i):d._visibility&2?$n(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&bd(_,i);break;case 24:$n(t,i,a,l),h&2048&&wd(i.alternate,i);break;default:$n(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,S,N,h),gl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?ja(d,_,S,N,h):_l(d,_):(X._visibility|=2,ja(d,_,S,N,h)),h&&B&2048&&bd(_.alternate,_);break;case 24:ja(d,_,S,N,h),h&&B&2048&&wd(_.alternate,_);break;default:ja(d,_,S,N,h)}i=i.sibling}}function _l(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&bd(l.alternate,l);break;case 24:_l(a,l),h&2048&&wd(l.alternate,l);break;default:_l(a,l)}i=i.sibling}}var vl=8192;function za(t,i,a){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)f_(t,i,a),t=t.sibling}function f_(t,i,a){switch(t.tag){case 26:za(t,i,a),t.flags&vl&&t.memoizedState!==null&&tw(a,Xn,t.memoizedState,t.memoizedProps);break;case 5:za(t,i,a);break;case 3:case 4:var l=Xn;Xn=jc(t.stateNode.containerInfo),za(t,i,a),Xn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vl,vl=16777216,za(t,i,a),vl=l):za(t,i,a));break;default:za(t,i,a)}}function d_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,p_(l,t)}d_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)m_(t),t=t.sibling}function m_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):El(t);break;default:El(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,p_(l,t)}d_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function p_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(s_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var gb={getCacheForType:function(t){var i=qt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(At).controller.signal}},yb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Oe=null,Me=0,Ke=0,vn=null,xr=!1,Ba=!1,Rd=!1,$i=0,ht=0,Vr=0,Fs=0,Cd=0,En=0,qa=0,Tl=null,cn=null,Id=!1,Cc=0,g_=0,Ic=1/0,Nc=null,Lr=null,Mt=0,Pr=null,Ha=null,Ji=0,Nd=0,Od=null,y_=null,Sl=0,Dd=null;function Tn(){return(Fe&2)!==0&&Me!==0?Me&-Me:Y.T!==null?Ud():Ou()}function __(){if(En===0)if((Me&536870912)===0||ke){var t=ys;ys<<=1,(ys&3932160)===0&&(ys=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function hn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Ur(t,Me,En,!1)),_s(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(Fs|=a),ht===4&&Ur(t,Me,En,!1)),bi(t))}function v_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||zn(t,i),h=l?Eb(t,i):xd(t,i,!0),d=l;do{if(h===0){Ba&&!l&&Ur(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!_b(a)){h=xd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=Tl;var N=S.current.memoizedState.isDehydrated;if(N&&(Fa(S,_).flags|=256),_=xd(S,_,!1),_!==2){if(Rd&&!N){S.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Ur(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(l,i,En,!xr);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-en(),10<h)){if(Ur(l,i,En,!xr),ai(l,0,!0)!==0)break e;Ji=i,l.timeoutHandle=$_(E_.bind(null,l,a,cn,Nc,Id,i,En,Fs,qa,xr,d,"Throttled",-0,0),h);break e}E_(l,a,cn,Nc,Id,i,En,Fs,qa,xr,d,null,-0,0)}}break}while(!0);bi(t)}function E_(t,i,a,l,h,d,_,S,N,B,X,Z,H,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},f_(i,d,Z);var he=(d&62914560)===d?Cc-en():(d&4194048)===d?g_-en():0;if(he=nw(Z,he),he!==null){Ji=d,t.cancelPendingCommit=he(I_.bind(null,t,i,d,a,l,h,_,S,N,X,Z,null,H,Q)),Ur(t,d,_,!B);return}}I_(t,i,d,a,l,h,_,S,N)}function _b(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(t,i,a,l){i&=~Cd,i&=~Fs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-dt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&vs(t,a,i)}function Oc(){return(Fe&6)===0?(Al(0),!1):!0}function Md(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,zi=Ls=null,Yf(t),Va=null,sl=0,t=Oe;for(;t!==null;)Jy(t.alternate,t),t=t.return;Oe=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ji=0,Md(),et=t,Oe=a=ki(t.current,null),Me=i,Ke=0,vn=null,xr=!1,Ba=zn(t,i),Rd=!1,qa=En=Cd=Fs=Vr=ht=0,cn=Tl=null,Id=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-dt(l),d=1<<h;i|=t[h],l&=~d}return $i=i,Ju(),a}function T_(t,i){Re=null,Y.H=dl,i===xa||i===sc?(i=Ug(),Ke=3):i===Pf?(i=Ug(),Ke=4):Ke=i===cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Oe===null&&(ht=1,vc(t,Nn(i,t.current)))}function S_(){var t=yn.current;return t===null?!0:(Me&4194048)===Me?xn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===xn:!1}function A_(){var t=Y.H;return Y.H=dl,t===null?dl:t}function b_(){var t=Y.A;return Y.A=gb,t}function Dc(){ht=4,xr||(Me&4194048)!==Me&&yn.current!==null||(Ba=!0),(Vr&134217727)===0&&(Fs&134217727)===0||et===null||Ur(et,Me,En,!1)}function xd(t,i,a){var l=Fe;Fe|=2;var h=A_(),d=b_();(et!==t||Me!==i)&&(Nc=null,Fa(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&Oe!==null){var S=Oe,N=vn;switch(Ke){case 8:Md(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var B=Ke;if(Ke=0,vn=null,Ga(t,S,N,B),a&&Ba){_=0;break e}break;default:B=Ke,Ke=0,vn=null,Ga(t,S,N,B)}}vb(),_=ht;break}catch(X){T_(t,X)}while(!0);return i&&t.shellSuspendCounter++,zi=Ls=null,Fe=l,Y.H=h,Y.A=d,Oe===null&&(et=null,Me=0,Ju()),_}function vb(){for(;Oe!==null;)w_(Oe)}function Eb(t,i){var a=Fe;Fe|=2;var l=A_(),h=b_();et!==t||Me!==i?(Nc=null,Ic=en()+500,Fa(t,i)):Ba=zn(t,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=vn;t:switch(Ke){case 1:Ke=0,vn=null,Ga(t,i,d,1);break;case 2:case 9:if(Lg(d)){Ke=0,vn=null,R_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),bi(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Lg(d)?(Ke=0,vn=null,R_(i)):(Ke=0,vn=null,Ga(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(_?hv(_):S.stateNode.complete){Ke=0,vn=null;var N=S.sibling;if(N!==null)Oe=N;else{var B=S.return;B!==null?(Oe=B,Mc(B)):Oe=null}break t}}Ke=0,vn=null,Ga(t,i,d,5);break;case 6:Ke=0,vn=null,Ga(t,i,d,6);break;case 8:Md(),ht=6;break e;default:throw Error(s(462))}}Tb();break}catch(X){T_(t,X)}while(!0);return zi=Ls=null,Y.H=l,Y.A=h,Fe=a,Oe!==null?0:(et=null,Me=0,Ju(),ht)}function Tb(){for(;Oe!==null&&!uf();)w_(Oe)}function w_(t){var i=Xy(t.alternate,t,$i);t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function R_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Hy(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Hy(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Yf(i);default:Jy(a,i),i=Oe=bg(i,$i),i=Xy(a,i,$i)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function Ga(t,i,a,l){zi=Ls=null,Yf(i),Va=null,sl=0;var h=i.return;try{if(ub(t,h,i,a,Me)){ht=1,vc(t,Nn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ht=1,vc(t,Nn(a,t.current)),Oe=null;return}i.flags&32768?(ke||l===1?t=!0:Ba||(Me&536870912)!==0?t=!1:(xr=t=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),C_(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){C_(i,xr);return}t=i.return;var a=fb(i.alternate,i,$i);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ht===0&&(ht=5)}function C_(t,i){do{var a=db(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ht=6,Oe=null}function I_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do xc();while(Mt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Tf,ff(t,a,d,_,S,N),t===et&&(Oe=et=null,Me=0),Ha=i,Pr=t,Ji=a,Nd=d,Od=h,y_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wb(dr,function(){return x_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=te.p,te.p=2,_=Fe,Fe|=4;try{mb(t,i,a)}finally{Fe=_,te.p=h,Y.T=l}}Mt=1,N_(),O_(),D_()}}function N_(){if(Mt===1){Mt=0;var t=Pr,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=te.p;te.p=2;var h=Fe;Fe|=4;try{u_(i,t);var d=Gd,_=pg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&mg(S.ownerDocument.documentElement,S)){if(N!==null&&gf(S)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var Z=S.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Q=H.getSelection(),he=S.textContent.length,ge=Math.min(N.start,he),We=N.end===void 0?ge:Math.min(N.end,he);!Q.extend&&ge>We&&(_=We,We=ge,ge=_);var P=dg(S,ge),x=dg(S,We);if(P&&x&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==x.node||Q.focusOffset!==x.offset)){var z=Z.createRange();z.setStart(P.node,P.offset),Q.removeAllRanges(),ge>We?(Q.addRange(z),Q.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),Q.addRange(z))}}}}for(Z=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var $=Z[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Gc=!!Fd,Gd=Fd=null}finally{Fe=h,te.p=l,Y.T=a}}t.current=i,Mt=2}}function O_(){if(Mt===2){Mt=0;var t=Pr,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=te.p;te.p=2;var h=Fe;Fe|=4;try{r_(t,i.alternate,i)}finally{Fe=h,te.p=l,Y.T=a}}Mt=3}}function D_(){if(Mt===4||Mt===3){Mt=0,Au();var t=Pr,i=Ha,a=Ji,l=y_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ha=Pr=null,M_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Lr=null),Vi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=te.p,te.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,te.p=h}}(Ji&3)!==0&&xc(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?Sl++:(Sl=0,Dd=t):Sl=0,Al(0)}}function M_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function xc(){return N_(),O_(),D_(),x_()}function x_(){if(Mt!==5)return!1;var t=Pr,i=Nd;Nd=0;var a=Vi(Ji),l=Y.T,h=te.p;try{te.p=32>a?32:a,Y.T=null,a=Od,Od=null;var d=Pr,_=Ji;if(Mt=0,Ha=Pr=null,Ji=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,m_(d.current),h_(d,d.current,_,a),Fe=S,Al(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{te.p=h,Y.T=l,M_(t,i)}}function V_(t,i,a){i=Nn(a,i),i=ud(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(_s(t,2),bi(t))}function Ye(t,i,a){if(t.tag===3)V_(t,t,a);else for(;i!==null;){if(i.tag===3){V_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Nn(a,t),a=Ly(2),l=Nr(i,a,2),l!==null&&(Py(a,l,i,t),_s(l,2),bi(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Rd=!0,h.add(a),t=Sb.bind(null,t,i,a),i.then(t,t))}function Sb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Me&a)===a&&(ht===4||ht===3&&(Me&62914560)===Me&&300>en()-Cc?(Fe&2)===0&&Fa(t,0):Cd|=a,qa===Me&&(qa=0)),bi(t)}function L_(t,i){i===0&&(i=Nu()),t=Ms(t,i),t!==null&&(_s(t,i),bi(t))}function Ab(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),L_(t,a)}function bb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),L_(t,a)}function wb(t,i){return Dt(t,i)}var Vc=null,Qa=null,Ld=!1,Lc=!1,Pd=!1,kr=0;function bi(t){t!==Qa&&t.next===null&&(Qa===null?Vc=Qa=t:Qa=Qa.next=t),Lc=!0,Ld||(Ld=!0,Cb())}function Al(t,i){if(!Pd&&Lc){Pd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,j_(l,d))}else d=Me,d=ai(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||zn(l,d)||(a=!0,j_(l,d));l=l.next}while(a);Pd=!1}}function Rb(){P_()}function P_(){Lc=Ld=!1;var t=0;kr!==0&&Ub()&&(t=kr);for(var i=en(),a=null,l=Vc;l!==null;){var h=l.next,d=U_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Lc=!0)),l=h}Mt!==0&&Mt!==5||Al(t),kr!==0&&(kr=0)}function U_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-dt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=hf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=Me,a=ai(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&fr(l),Vi(a)){case 2:case 8:a=xo;break;case 32:a=dr;break;case 268435456:a=bu;break;default:a=dr}return l=k_.bind(null,t),a=Dt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&fr(l),t.callbackPriority=2,t.callbackNode=null,2}function k_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(xc()&&t.callbackNode!==a)return null;var l=Me;return l=ai(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(v_(t,l,i),U_(t,en()),t.callbackNode!=null&&t.callbackNode===a?k_.bind(null,t):null)}function j_(t,i){if(xc())return null;v_(t,i,!0)}function Cb(){jb(function(){(Fe&6)!==0?Dt(Mo,Rb):P_()})}function Ud(){if(kr===0){var t=Da;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),kr=t}return kr}function z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function B_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ib(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=z_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?z_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new yi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(kr!==0){var N=_?B_(h,_):new FormData(h);id(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?B_(h,_):new FormData(h),id(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var kd=0;kd<Ef.length;kd++){var jd=Ef[kd],Nb=jd.toLowerCase(),Ob=jd[0].toUpperCase()+jd.slice(1);Yn(Nb,"on"+Ob)}Yn(_g,"onAnimationEnd"),Yn(vg,"onAnimationIteration"),Yn(Eg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(QA,"onTransitionRun"),Yn(KA,"onTransitionStart"),Yn(YA,"onTransitionCancel"),Yn(Tg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=N}}}}function De(t,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=t+"__bubble";a.has(l)||(H_(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),H_(a,t,l,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Pc]){t[Pc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(Db.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,zd("selectionchange",!1,i))}}function H_(t,i,a,l){switch(_v(i)){case 2:var h=sw;break;case 8:h=aw;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!bs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=ci(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}vr(function(){var B=d,X=wn(a),Z=[];e:{var H=Sg.get(t);if(H!==void 0){var Q=yi,he=t;switch(t){case"keypress":if(Rs(a)===0)break e;case"keydown":case"keyup":Q=Ku;break;case"focusin":he="focus",Q=Is;break;case"focusout":he="blur",Q=Is;break;case"beforeblur":case"afterblur":Q=Is;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case _g:case vg:case Eg:Q=zu;break;case Tg:Q=A;break;case"scroll":case"scrollend":Q=Yo;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ui;break;case"toggle":case"beforetoggle":Q=we}var ge=(i&4)!==0,We=!ge&&(t==="scroll"||t==="scrollend"),P=ge?H!==null?H+"Capture":null:H;ge=[];for(var x=B,z;x!==null;){var $=x;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||P===null||($=Fn(x,P),$!=null&&ge.push(wl(x,$,z))),We)break;x=x.return}0<ge.length&&(H=new Q(H,he,null,a,X),Z.push({event:H,listeners:ge}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Go&&(he=a.relatedTarget||a.fromElement)&&(ci(he)||he[li]))break e;if((Q||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=B,he=he?ci(he):null,he!==null&&(We=u(he),ge=he.tag,he!==We||ge!==5&&ge!==27&&ge!==6)&&(he=null)):(Q=null,he=B),Q!==he)){if(ge=Xo,$="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Ui,$="onPointerLeave",P="onPointerEnter",x="pointer"),We=Q==null?H:dn(Q),z=he==null?H:dn(he),H=new ge($,x+"leave",Q,a,X),H.target=We,H.relatedTarget=z,$=null,ci(X)===B&&(ge=new ge(P,x+"enter",he,a,X),ge.target=z,ge.relatedTarget=We,$=ge),We=$,Q&&he)t:{for(ge=Mb,P=Q,x=he,z=0,$=P;$;$=ge($))z++;$=0;for(var de=x;de;de=ge(de))$++;for(;0<z-$;)P=ge(P),z--;for(;0<$-z;)x=ge(x),$--;for(;z--;){if(P===x||x!==null&&P===x.alternate){ge=P;break t}P=ge(P),x=ge(x)}ge=null}else ge=null;Q!==null&&F_(Z,H,Q,ge,!1),he!==null&&We!==null&&F_(Z,We,he,ge,!0)}}e:{if(H=B?dn(B):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Be=og;else if(sg(H))if(lg)Be=HA;else{Be=BA;var fe=zA}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&pa(B.elementType)&&(Be=og):Be=qA;if(Be&&(Be=Be(t,B))){ag(Z,Be,a,X);break e}fe&&fe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&qo(H,"number",H.value)}switch(fe=B?dn(B):window,t){case"focusin":(sg(fe)||fe.contentEditable==="true")&&(Aa=fe,yf=B,el=null);break;case"focusout":el=yf=Aa=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,gg(Z,a,X);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":gg(Z,a,X)}var Ie;if(He)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Sa?Ns(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ei&&a.locale!=="ko"&&(Sa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Sa&&(Ie=Ko()):(gi=X,Qo="value"in gi?gi.value:gi.textContent,Sa=!0)),fe=Uc(B,xe),0<fe.length&&(xe=new vi(xe,t,null,a,X),Z.push({event:xe,listeners:fe}),Ie?xe.data=Ie:(Ie=Ta(a),Ie!==null&&(xe.data=Ie)))),(Ie=Cn?PA(t,a):UA(t,a))&&(xe=Uc(B,"onBeforeInput"),0<xe.length&&(fe=new vi("onBeforeInput","beforeinput",null,a,X),Z.push({event:fe,listeners:xe}),fe.data=Ie)),Ib(Z,t,B,a,X)}q_(Z,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Uc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Fn(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Fn(t,i),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Mb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function F_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=Fn(a,d),B!=null&&_.unshift(wl(a,B,N))):h||(B=Fn(a,d),B!=null&&_.push(wl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var xb=/\r\n?/g,Vb=/\u0000|\uFFFD/g;function G_(t){return(typeof t=="string"?t:""+t).replace(xb,`
`).replace(Vb,"")}function Q_(t,i){return i=G_(i),G_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||an(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&an(t,""+l);break;case"className":mn(t,"class",l);break;case"tabIndex":mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,l);break;case"style":Fo(t,l,d);break;case"data":if(i!=="object"){mn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),da(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uu.get(a)||a,da(t,a,l))}}function Hd(t,i,a,l,h,d){switch(a){case"style":Fo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?an(t,l):(typeof l=="number"||typeof l=="bigint")&&an(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}Vu(t,d,S,N,B,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?pr(t,!!l,i,!1):a!=null&&pr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}gr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)De(bl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(pa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Hd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function Lb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,X=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,Z)}}for(var H in l){var Q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Q!=null||Z!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&Je(t,i,H,Q,l,Z)}}ma(t,_,S,N,B,X,d,h);return;case"select":Q=_=S=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=S,a=_,l=Q,H!=null?pr(t,!!a,H,!1):!!l!=!!a&&(i!=null?pr(t,!!a,i,!0):pr(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Lu(t,H,Q);return;case"option":for(var he in a)if(H=a[he],a.hasOwnProperty(he)&&H!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,i,he,null,l,H)}for(N in l)if(H=l[N],Q=a[N],l.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,i,N,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,H);for(B in l)if(H=l[B],Q=a[B],l.hasOwnProperty(B)&&H!==Q&&(H!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,B,H,l,Q)}return;default:if(pa(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Hd(t,i,We,void 0,l,H);for(X in l)H=l[X],Q=a[X],!l.hasOwnProperty(X)||H===Q||H===void 0&&Q===void 0||Hd(t,i,X,H,l,Q);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,H);for(Z in l)H=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||H===Q||H==null&&Q==null||Je(t,i,Z,H,l,Q)}function K_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Pb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&K_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var X=N.transferSize,Z=N.initiatorType;X&&K_(Z)&&(N=N.responseEnd,_+=X*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Fd=null,Gd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kd=null;function Ub(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,kb=typeof clearTimeout=="function"?clearTimeout:void 0,J_=typeof Promise=="function"?Promise:void 0,jb=typeof queueMicrotask=="function"?queueMicrotask:typeof J_<"u"?function(t){return J_.resolve(null).then(t).catch(zb)}:$_;function zb(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),$a(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Rl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Rl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[ui]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Rl(t.ownerDocument.body);a=h}while(a);$a(i)}function Z_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Bb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function qb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function ev(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vn(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Hb(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Vn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Jd=null;function tv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Vn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function nv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function iv(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var Ln=new Map,rv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=te.d;te.d={f:Fb,r:Gb,D:Qb,C:Kb,L:Yb,m:Xb,X:Jb,S:$b,M:Wb};function Fb(){var t=Wi.f(),i=Oc();return t||i}function Gb(t){var i=bn(t);i!==null&&i.tag===5&&i.type==="form"?Ty(i):Wi.r(t)}var Ka=typeof document>"u"?null:document;function sv(t,i,a){var l=Ka;if(l&&typeof i=="string"&&i){var h=sn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),Tt(i),l.head.appendChild(i)))}}function Qb(t){Wi.D(t),sv("dns-prefetch",t,null)}function Kb(t,i){Wi.C(t,i),sv("preconnect",t,i)}function Yb(t,i,a){Wi.L(t,i,a);var l=Ka;if(l&&t&&i){var h='link[rel="preload"][as="'+sn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(t)+'"]';var d=h;switch(i){case"style":d=Ya(t);break;case"script":d=Xa(t)}Ln.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(Il(d))||(i=l.createElement("link"),Ft(i,"link",t),Tt(i),l.head.appendChild(i)))}}function Xb(t,i){Wi.m(t,i);var a=Ka;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Ln.has(d)&&(t=T({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Ft(l,"link",t),Tt(l),a.head.appendChild(l)}}}function $b(t,i,a){Wi.S(t,i,a);var l=Ka;if(l&&t){var h=hi(l).hoistableStyles,d=Ya(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Cl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Wd(t,a);var N=_=l.createElement("link");Tt(N),Ft(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Jb(t,i){Wi.X(t,i);var a=Ka;if(a&&t){var l=hi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0},i),(i=Ln.get(h))&&Zd(t,i),d=a.createElement("script"),Tt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Wb(t,i){Wi.M(t,i);var a=Ka;if(a&&t){var l=hi(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Il(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Zd(t,i),d=a.createElement("script"),Tt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function av(t,i,a,l){var h=(h=Ce.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=hi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=hi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Cl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||Zb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Xa(a),a=hi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ya(t){return'href="'+sn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function ov(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Zb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),Tt(i),t.head.appendChild(i))}function Xa(t){return'[src="'+sn(t)+'"]'}function Il(t){return"script[async]"+t}function lv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+sn(a.href)+'"]');if(l)return i.instance=l,Tt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Tt(l),Ft(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;l=ov(a),(h=Ln.get(h))&&Wd(l,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ft(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(Il(d)))?(i.instance=h,Tt(h),h):(l=a,(h=Ln.get(d))&&(l=T({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function uv(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ui]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function cv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ew(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,l=ov(l),(h=Ln.get(h))&&Wd(l,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Ft(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var em=0;function nw(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*Pb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(iw,t),Hc=null,qc.call(t))}function iw(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:re,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function rw(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function fv(t,i,a,l,h,d,_,S,N,B,X,Z){return t=new rw(t,i,a,_,N,B,X,Z,S),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Uf(d),t}function dv(t){return t?(t=Ra,t):Ra}function mv(t,i,a,l,h,d){h=dv(h),l.context===null?l.context=h:l.pendingContext=h,l=Ir(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Nr(t,l,i),a!==null&&(hn(a,t,i),ol(a,t,i))}function pv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){pv(t,i),(t=t.alternate)&&pv(t,i)}function gv(t){if(t.tag===13||t.tag===31){var i=Ms(t,67108864);i!==null&&hn(i,t,67108864),tm(t,67108864)}}function yv(t){if(t.tag===13||t.tag===31){var i=Tn();i=Es(i);var a=Ms(t,i);a!==null&&hn(a,t,i),tm(t,i)}}var Gc=!0;function sw(t,i,a,l){var h=Y.T;Y.T=null;var d=te.p;try{te.p=2,nm(t,i,a,l)}finally{te.p=d,Y.T=h}}function aw(t,i,a,l){var h=Y.T;Y.T=null;var d=te.p;try{te.p=8,nm(t,i,a,l)}finally{te.p=d,Y.T=h}}function nm(t,i,a,l){if(Gc){var h=im(l);if(h===null)qd(t,i,l,Qc,a),vv(t,l);else if(lw(h,t,i,a,l))l.stopPropagation();else if(vv(t,l),i&4&&-1<ow.indexOf(t)){for(;h!==null;){var d=bn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=si(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-dt(_);S.entanglements[1]|=N,_&=~N}bi(d),(Fe&6)===0&&(Ic=en()+500,Al(0))}}break;case 31:case 13:S=Ms(d,2),S!==null&&hn(S,d,2),Oc(),tm(d,2)}if(d=im(l),d===null&&qd(t,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(t,i,l,null,a)}}function im(t){return t=wn(t),rm(t)}var Qc=null;function rm(t){if(Qc=null,t=ci(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function _v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gs()){case Mo:return 2;case xo:return 8;case dr:case cf:return 32;case bu:return 268435456;default:return 32}default:return 32}}var sm=!1,zr=null,Br=null,qr=null,Ol=new Map,Dl=new Map,Hr=[],ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vv(t,i){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=bn(i),i!==null&&gv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function lw(t,i,a,l,h){switch(i){case"focusin":return zr=Ml(zr,t,i,a,l,h),!0;case"dragenter":return Br=Ml(Br,t,i,a,l,h),!0;case"mouseover":return qr=Ml(qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ml(Dl.get(d)||null,t,i,a,l,h)),!0}return!1}function Ev(t){var i=ci(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){yv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Bn(t.priority,function(){yv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Go=l,a.target.dispatchEvent(l),Go=null}else return i=bn(a),i!==null&&gv(i),t.blockedOn=a,!1;i.shift()}return!0}function Tv(t,i,a){Kc(t)&&a.delete(i)}function uw(){sm=!1,zr!==null&&Kc(zr)&&(zr=null),Br!==null&&Kc(Br)&&(Br=null),qr!==null&&Kc(qr)&&(qr=null),Ol.forEach(Tv),Dl.forEach(Tv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,sm||(sm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uw)))}var Xc=null;function Sv(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=bn(a);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function $a(t){function i(N){return Yc(N,t)}zr!==null&&Yc(zr,t),Br!==null&&Yc(Br,t),qr!==null&&Yc(qr,t),Ol.forEach(i),Dl.forEach(i);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&Hr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Sv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(rm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Sv(a)}}}function Av(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function am(t){this._internalRoot=t}$c.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();mv(a,l,t,i,null,null)},$c.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;mv(t.current,2,null,t,null,null),Oc(),i[li]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Hr.length&&i!==0&&i<Hr[a].priority;a++);Hr.splice(a,0,t),a===0&&Ev(t)}};var bv=e.version;if(bv!=="19.2.0")throw Error(s(527,bv,"19.2.0"));te.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var cw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{jn=Jc.inject(cw),jt=Jc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Dy,d=My,_=xy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=fv(t,1,!1,null,null,a,l,null,h,d,_,Av),t[li]=i.current,Bd(t),new am(i)},Vl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Dy,_=My,S=xy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=fv(t,1,!0,i,a??null,l,h,N,d,_,S,Av),i.context=dv(null),a=i.current,l=Tn(),l=Es(l),h=Ir(l),h.callback=null,Nr(a,h,l),a=l,i.current.lanes=a,_s(i,a),bi(i),t[li]=i.current,Bd(t),new $c(i)},Vl.version="19.2.0",Vl}var Vv;function Sw(){if(Vv)return um.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=Tw(),um.exports}var Aw=Sw();var Lv="popstate";function bw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Cm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Xl(o)}return Rw(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Sn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ww(){return Math.random().toString(36).substring(2,10)}function Pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Cm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||s||ww()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function _o(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Rw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=E(),ie=F==null?null:F-g;g=F,p&&p({action:m,location:K.location,delta:ie})}function b(F,ie){m="PUSH";let J=Cm(K.location,F,ie);g=E()+1;let re=Pv(J,g),ye=K.createHref(J);try{f.pushState(re,"",ye)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(ye)}u&&p&&p({action:m,location:K.location,delta:1})}function D(F,ie){m="REPLACE";let J=Cm(K.location,F,ie);g=E();let re=Pv(J,g),ye=K.createHref(J);f.replaceState(re,"",ye),u&&p&&p({action:m,location:K.location,delta:0})}function q(F){return Cw(F)}let K={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Lv,T),p=F,()=>{o.removeEventListener(Lv,T),p=null}},createHref(F){return e(o,F)},createURL:q,encodeLocation(F){let ie=q(F);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:b,replace:D,go(F){return f.go(F)}};return K}function Cw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function PT(r,e,n="/"){return Iw(r,e,n,!1)}function Iw(r,e,n,s){let o=typeof e=="string"?_o(e):e,u=sr(o.pathname||"/",n);if(u==null)return null;let f=UT(r);Nw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=zw(u);m=kw(f[p],g,s)}return m}function UT(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=tr([s,E.relativePath]),b=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),UT(f.children,e,b,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:Pw(T,f.index),routesMeta:b})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of kT(f.path))u(f,m,!0,p)}),e}function kT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Nw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Uw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ow=/^:[\w-]+$/,Dw=3,Mw=2,xw=1,Vw=10,Lw=-2,Uv=r=>r==="*";function Pw(r,e){let n=r.split("/"),s=n.length;return n.some(Uv)&&(s+=Lw),e&&(s+=Mw),n.filter(o=>!Uv(o)).reduce((o,u)=>o+(Ow.test(u)?Dw:u===""?xw:Vw),s)}function Uw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function kw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),b=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:tr([u,T.pathname]),pathnameBase:Gw(tr([u,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(u=tr([u,T.pathnameBase]))}return f}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},b)=>{if(E==="*"){let q=m[b]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const D=m[b];return T&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function jw(r,e=!1,n=!0){Sn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function zw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function sr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qw=r=>Bw.test(r);function Hw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?_o(r):r,u;if(n)if(qw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=kv(n.substring(1),"/"):u=kv(n,e)}else u=e;return{pathname:u,search:Qw(s),hash:Kw(o)}}function kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ap(r){let e=Fw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function op(r,e,n,s=!1){let o;typeof r=="string"?o=_o(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),dm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),dm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),dm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),T-=1;o.pathname=b.join("/")}m=T>=0?e[T]:"/"}let p=Hw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var tr=r=>r.join("/").replace(/\/\/+/g,"/"),Gw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Qw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Kw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Yw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jT=["POST","PUT","PATCH","DELETE"];new Set(jT);var Xw=["GET",...jT];new Set(Xw);var vo=U.createContext(null);vo.displayName="DataRouter";var jh=U.createContext(null);jh.displayName="DataRouterState";U.createContext(!1);var zT=U.createContext({isTransitioning:!1});zT.displayName="ViewTransition";var $w=U.createContext(new Map);$w.displayName="Fetchers";var Jw=U.createContext(null);Jw.displayName="Await";var ti=U.createContext(null);ti.displayName="Navigation";var lu=U.createContext(null);lu.displayName="Location";var ni=U.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var lp=U.createContext(null);lp.displayName="RouteError";function Ww(r,{relative:e}={}){lt(Eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(ti),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Eo(){return U.useContext(lu)!=null}function cr(){return lt(Eo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(lu).location}var BT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(r){U.useContext(ti).static||U.useLayoutEffect(r)}function xi(){let{isDataRoute:r}=U.useContext(ni);return r?hR():Zw()}function Zw(){lt(Eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(vo),{basename:e,navigator:n}=U.useContext(ti),{matches:s}=U.useContext(ni),{pathname:o}=cr(),u=JSON.stringify(ap(s)),f=U.useRef(!1);return qT(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Sn(f.current,BT),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=op(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:tr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}U.createContext(null);function HT(){let{matches:r}=U.useContext(ni),e=r[r.length-1];return e?e.params:{}}function uu(r,{relative:e}={}){let{matches:n}=U.useContext(ni),{pathname:s}=cr(),o=JSON.stringify(ap(n));return U.useMemo(()=>op(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function eR(r,e){return FT(r,e)}function FT(r,e,n,s,o){lt(Eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(ti),{matches:f}=U.useContext(ni),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let J=T&&T.path||"";GT(g,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let b=cr(),D;if(e){let J=typeof e=="string"?_o(e):e;lt(E==="/"||J.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),D=J}else D=b;let q=D.pathname||"/",K=q;if(E!=="/"){let J=E.replace(/^\//,"").split("/");K="/"+q.replace(/^\//,"").split("/").slice(J.length).join("/")}let F=PT(r,{pathname:K});Sn(T||F!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Sn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=sR(F&&F.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:tr([E,u.encodeLocation?u.encodeLocation(J.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:tr([E,u.encodeLocation?u.encodeLocation(J.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:J.pathnameBase])})),f,n,s,o);return e&&ie?U.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},ie):ie}function tR(){let r=cR(),e=Yw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var nR=U.createElement(tR,null),iR=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(ni.Provider,{value:this.props.routeContext},U.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rR({routeContext:r,match:e,children:n}){let s=U.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ni.Provider,{value:r},n)}function sR(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:b,errors:D}=n,q=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:T})}:void 0;return u.reduceRight((E,T,b)=>{let D,q=!1,K=null,F=null;n&&(D=f&&T.route.id?f[T.route.id]:void 0,K=T.route.errorElement||nR,m&&(p<0&&b===0?(GT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,F=null):p===b&&(q=!0,F=T.route.hydrateFallbackElement||null)));let ie=e.concat(u.slice(0,b+1)),J=()=>{let re;return D?re=K:q?re=F:T.route.Component?re=U.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=E,U.createElement(rR,{match:T,routeContext:{outlet:E,matches:ie,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?U.createElement(iR,{location:n.location,revalidation:n.revalidation,component:K,error:D,children:J(),routeContext:{outlet:null,matches:ie,isDataRoute:!0},onError:g}):J()},null)}function up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aR(r){let e=U.useContext(vo);return lt(e,up(r)),e}function oR(r){let e=U.useContext(jh);return lt(e,up(r)),e}function lR(r){let e=U.useContext(ni);return lt(e,up(r)),e}function cp(r){let e=lR(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function uR(){return cp("useRouteId")}function cR(){let r=U.useContext(lp),e=oR("useRouteError"),n=cp("useRouteError");return r!==void 0?r:e.errors?.[n]}function hR(){let{router:r}=aR("useNavigate"),e=cp("useNavigate"),n=U.useRef(!1);return qT(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{Sn(n.current,BT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var jv={};function GT(r,e,n){!e&&!jv[r]&&(jv[r]=!0,Sn(!1,n))}U.memo(fR);function fR({routes:r,future:e,state:n,unstable_onError:s}){return FT(r,void 0,n,s,e)}function dR({to:r,replace:e,state:n,relative:s}){lt(Eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(ti);Sn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ni),{pathname:f}=cr(),m=xi(),p=op(r,ap(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Qr(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mR({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=_o(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:b="default"}=n,D=U.useMemo(()=>{let q=sr(p,f);return q==null?null:{location:{pathname:q,search:g,hash:E,state:T,key:b},navigationType:s}},[f,p,g,E,T,b,s]);return Sn(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:U.createElement(ti.Provider,{value:m},U.createElement(lu.Provider,{children:e,value:D}))}function pR({children:r,location:e}){return eR(Im(r),e)}function Im(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Im(s.props.children,u));return}lt(s.type===Qr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Im(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function zh(r){return r!=null&&typeof r.tagName=="string"}function gR(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function yR(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function _R(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function vR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ER(r,e){return r.button===0&&(!e||e==="_self")&&!vR(r)}function Nm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function TR(r,e){let n=Nm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Wc=null;function SR(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var AR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!AR.has(r)?(Sn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function bR(r,e){let n,s,o,u,f;if(yR(r)){let m=r.getAttribute("action");s=m?sr(m,e):null,n=r.getAttribute("method")||ah,o=mm(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(gR(r)||_R(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?sr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!SR()){let{name:g,type:E,value:T}=r;if(E==="image"){let b=g?`${g}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else g&&u.append(g,T)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wR(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&sr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function RR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function IR(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await RR(u,n);return f.links?f.links():[]}return[]}));return MR(s.flat(1).filter(CR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function NR(r,e,{includeHydrateFallback:n}={}){return OR(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function OR(r){return[...new Set(r)]}function DR(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function MR(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(DR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function QT(){let r=U.useContext(vo);return hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xR(){let r=U.useContext(jh);return hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var fp=U.createContext(void 0);fp.displayName="FrameworkContext";function KT(){let r=U.useContext(fp);return hp(r,"You must render this element inside a <HydratedRouter> element"),r}function VR(r,e){let n=U.useContext(fp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,b=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=ie=>{ie.forEach(J=>{f(J.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return b.current&&F.observe(b.current),()=>{F.disconnect()}}},[r]),U.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let D=()=>{o(!0)},q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:Ll(m,D),onBlur:Ll(p,q),onMouseEnter:Ll(g,D),onMouseLeave:Ll(E,q),onTouchStart:Ll(T,D)}]:[!1,b,{}]}function Ll(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function LR({page:r,...e}){let{router:n}=QT(),s=U.useMemo(()=>PT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(UR,{page:r,matches:s,...e}):null}function PR(r){let{manifest:e,routeModules:n}=KT(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return IR(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function UR({page:r,matches:e,...n}){let s=cr(),{manifest:o,routeModules:u}=KT(),{basename:f}=QT(),{loaderData:m,matches:p}=xR(),g=U.useMemo(()=>zv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=U.useMemo(()=>zv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let q=new Set,K=!1;if(e.forEach(ie=>{let J=o.routes[ie.route.id];!J||!J.hasLoader||(!g.some(re=>re.route.id===ie.route.id)&&ie.route.id in m&&u[ie.route.id]?.shouldRevalidate||J.hasClientLoader?K=!0:q.add(ie.route.id))}),q.size===0)return[];let F=wR(r,f,"data");return K&&q.size>0&&F.searchParams.set("_routes",e.filter(ie=>q.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),b=U.useMemo(()=>NR(E,o),[E,o]),D=PR(E);return U.createElement(U.Fragment,null,T.map(q=>U.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),b.map(q=>U.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),D.map(({key:q,link:K})=>U.createElement("link",{key:q,nonce:n.nonce,...K})))}function kR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.9.6")}catch{}function jR({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=bw({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(mR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cu=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...b},D){let{basename:q}=U.useContext(ti),K=typeof g=="string"&&XT.test(g),F,ie=!1;if(typeof g=="string"&&K&&(F=g,YT))try{let C=new URL(window.location.href),L=g.startsWith("//")?new URL(C.protocol+g):new URL(g),M=sr(L.pathname,q);L.origin===C.origin&&M!=null?g=M+L.search+L.hash:ie=!0}catch{Sn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Ww(g,{relative:o}),[re,ye,pe]=VR(s,b),be=HR(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function O(C){e&&e(C),C.defaultPrevented||be(C)}let R=U.createElement("a",{...b,...pe,href:F||J,onClick:ie||u?e:O,ref:kR(D,ye),target:p,"data-discover":!K&&n==="render"?"true":void 0});return re&&!K?U.createElement(U.Fragment,null,R,U.createElement(LR,{page:J})):R});cu.displayName="Link";var zR=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=uu(f,{relative:g.relative}),b=cr(),D=U.useContext(jh),{navigator:q,basename:K}=U.useContext(ti),F=D!=null&&XR(T)&&m===!0,ie=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,J=b.pathname,re=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(J=J.toLowerCase(),re=re?re.toLowerCase():null,ie=ie.toLowerCase()),re&&K&&(re=sr(re,K)||re);const ye=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let pe=J===ie||!o&&J.startsWith(ie)&&J.charAt(ye)==="/",be=re!=null&&(re===ie||!o&&re.startsWith(ie)&&re.charAt(ie.length)==="/"),O={isActive:pe,isPending:be,isTransitioning:F},R=pe?e:void 0,C;typeof s=="function"?C=s(O):C=[s,pe?"active":null,be?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(O):u;return U.createElement(cu,{...g,"aria-current":R,className:C,ref:E,style:L,to:f,viewTransition:m},typeof p=="function"?p(O):p)});zR.displayName="NavLink";var BR=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...b},D)=>{let q=KR(),K=YR(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&XT.test(m),J=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ye=re.nativeEvent.submitter,pe=ye?.getAttribute("formmethod")||f;q(ye||re.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return U.createElement("form",{ref:D,method:F,action:K,onSubmit:s?p:J,...b,"data-discover":!ie&&r==="render"?"true":void 0})});BR.displayName="Form";function qR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $T(r){let e=U.useContext(vo);return lt(e,qR(r)),e}function HR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=xi(),p=cr(),g=uu(r,{relative:u});return U.useCallback(E=>{if(ER(E,e)){E.preventDefault();let T=n!==void 0?n:Xl(p)===Xl(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}function FR(r){Sn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=U.useRef(Nm(r)),n=U.useRef(!1),s=cr(),o=U.useMemo(()=>TR(s.search,n.current?null:e.current),[s.search]),u=xi(),f=U.useCallback((m,p)=>{const g=Nm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var GR=0,QR=()=>`__${String(++GR)}__`;function KR(){let{router:r}=$T("useSubmit"),{basename:e}=U.useContext(ti),n=uR();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=bR(s,e);if(o.navigate===!1){let E=o.fetcherKey||QR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function YR(r,{relative:e}={}){let{basename:n}=U.useContext(ti),s=U.useContext(ni);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=cr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),Xl(u)}function XR(r,{relative:e}={}){let n=U.useContext(zT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=$T("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const $R=()=>{};var Bv={};const JT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},JR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let b=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(b=64)),s.push(n[E],n[T],n[b],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(JT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new WR;const b=u<<2|m>>4;if(s.push(b),g!==64){const D=m<<4&240|g>>2;if(s.push(D),T!==64){const q=g<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(r){const e=JT(r);return WT.encodeByteArray(e,!0)},Eh=function(r){return ZR(r).replace(/\./g,"")},ZT=function(r){try{return WT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function eC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tC=()=>eC().__FIREBASE_DEFAULTS__,nC=()=>{if(typeof process>"u"||typeof Bv>"u")return;const r=Bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},iC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ZT(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return $R()||tC()||nC()||iC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},e0=r=>Bh()?.emulatorHosts?.[r],rC=r=>{const e=e0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},t0=()=>Bh()?.config,n0=r=>Bh()?.[`_${r}`];class sC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function To(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i0(r){return(await fetch(r,{credentials:"include"})).ok}function aC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const ql={};function oC(){const r={prod:[],emulator:[]};for(const e of Object.keys(ql))ql[e]?r.emulator.push(e):r.prod.push(e);return r}function lC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let qv=!1;function r0(r,e){if(typeof window>"u"||typeof document>"u"||!To(window.location.host)||ql[r]===e||ql[r]||qv)return;ql[r]=e;function n(b){return`__firebase__banner__${b}`}const s="__firebase__banner",u=oC().prod.length>0;function f(){const b=document.getElementById(s);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,D){b.setAttribute("width","24"),b.setAttribute("id",D),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{qv=!0,f()},b}function E(b,D){b.setAttribute("id",D),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function T(){const b=lC(s),D=n("text"),q=document.getElementById(D)||document.createElement("span"),K=n("learnmore"),F=document.getElementById(K)||document.createElement("a"),ie=n("preprendIcon"),J=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const re=b.element;m(re),E(F,K);const ye=g();p(J,ie),re.append(J,q,F,ye),document.body.appendChild(re)}u?(q.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function cC(){const r=Bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mC(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function pC(){return!cC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gC(){try{return typeof indexedDB=="object"}catch{return!1}}function yC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const _C="FirebaseError";class hr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=_C,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vC(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new hr(o,m,s)}}function vC(r,e){return r.replace(EC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const EC=/\{\$([^}]+)}/g;function TC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ys(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Hv(u)&&Hv(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Hv(r){return r!==null&&typeof r=="object"}function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ul(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function SC(r,e){const n=new AC(r,e);return n.subscribe.bind(n)}class AC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}function rn(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gs="[DEFAULT]";class wC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new sC;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CC(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RC(r){return r===Gs?void 0:r}function CC(r){return r.instantiationMode==="EAGER"}class IC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const NC={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},OC=Ve.INFO,DC={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},MC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=DC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dp{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=MC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const xC=(r,e)=>e.some(n=>r instanceof n);let Fv,Gv;function VC(){return Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LC(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,Om=new WeakMap,a0=new WeakMap,gm=new WeakMap,mp=new WeakMap;function PC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,r)}).catch(()=>{}),mp.set(e,r),e}function UC(r){if(Om.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Om.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||a0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kC(r){Dm=r(Dm)}function jC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(ym(this),e,...n);return a0.set(s,e.sort?e.sort():[e]),es(s)}:LC().includes(r)?function(...e){return r.apply(ym(this),e),es(s0.get(this))}:function(...e){return es(r.apply(ym(this),e))}}function zC(r){return typeof r=="function"?jC(r):(r instanceof IDBTransaction&&UC(r),xC(r,VC())?new Proxy(r,Dm):r)}function es(r){if(r instanceof IDBRequest)return PC(r);if(gm.has(r))return gm.get(r);const e=zC(r);return e!==r&&(gm.set(r,e),mp.set(e,r)),e}const ym=r=>mp.get(r);function BC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const qC=["get","getKey","getAll","getAllKeys","count"],HC=["put","add","delete","clear"],_m=new Map;function Qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=HC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||qC.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return _m.set(e,u),u}kC(r=>({...r,get:(e,n,s)=>Qv(e,n)||r.get(e,n,s),has:(e,n)=>!!Qv(e,n)||r.has(e,n)}));class FC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GC(r){return r.getComponent()?.type==="VERSION"}const Mm="@firebase/app",Kv="0.14.6";const ar=new dp("@firebase/app"),QC="@firebase/app-compat",KC="@firebase/analytics-compat",YC="@firebase/analytics",XC="@firebase/app-check-compat",$C="@firebase/app-check",JC="@firebase/auth",WC="@firebase/auth-compat",ZC="@firebase/database",e1="@firebase/data-connect",t1="@firebase/database-compat",n1="@firebase/functions",i1="@firebase/functions-compat",r1="@firebase/installations",s1="@firebase/installations-compat",a1="@firebase/messaging",o1="@firebase/messaging-compat",l1="@firebase/performance",u1="@firebase/performance-compat",c1="@firebase/remote-config",h1="@firebase/remote-config-compat",f1="@firebase/storage",d1="@firebase/storage-compat",m1="@firebase/firestore",p1="@firebase/ai",g1="@firebase/firestore-compat",y1="firebase",_1="12.6.0";const xm="[DEFAULT]",v1={[Mm]:"fire-core",[QC]:"fire-core-compat",[YC]:"fire-analytics",[KC]:"fire-analytics-compat",[$C]:"fire-app-check",[XC]:"fire-app-check-compat",[JC]:"fire-auth",[WC]:"fire-auth-compat",[ZC]:"fire-rtdb",[e1]:"fire-data-connect",[t1]:"fire-rtdb-compat",[n1]:"fire-fn",[i1]:"fire-fn-compat",[r1]:"fire-iid",[s1]:"fire-iid-compat",[a1]:"fire-fcm",[o1]:"fire-fcm-compat",[l1]:"fire-perf",[u1]:"fire-perf-compat",[c1]:"fire-rc",[h1]:"fire-rc-compat",[f1]:"fire-gcs",[d1]:"fire-gcs-compat",[m1]:"fire-fst",[g1]:"fire-fst-compat",[p1]:"fire-vertex","fire-js":"fire-js",[y1]:"fire-js-all"};const Th=new Map,E1=new Map,Vm=new Map;function Yv(r,e){try{r.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function uo(r){const e=r.name;if(Vm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,r);for(const n of Th.values())Yv(n,r);for(const n of E1.values())Yv(n,r);return!0}function pp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new hu("app","Firebase",T1);class S1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}const So=_1;function o0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=t0()),!n)throw ts.create("no-options");const u=Th.get(o);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new IC(o);for(const p of Vm.values())f.addComponent(p);const m=new S1(n,s,f);return Th.set(o,m),m}function l0(r=xm){const e=Th.get(r);if(!e&&r===xm&&t0())return o0();if(!e)throw ts.create("no-app",{appName:r});return e}function ns(r,e,n){let s=v1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(f.join(" "));return}uo(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const A1="firebase-heartbeat-database",b1=1,$l="firebase-heartbeat-store";let vm=null;function u0(){return vm||(vm=BC(A1,b1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($l)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),vm}async function w1(r){try{const n=(await u0()).transaction($l),s=await n.objectStore($l).get(c0(r));return await n.done,s}catch(e){if(e instanceof hr)ar.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}}async function Xv(r,e){try{const s=(await u0()).transaction($l,"readwrite");await s.objectStore($l).put(e,c0(r)),await s.done}catch(n){if(n instanceof hr)ar.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n?.message});ar.warn(s.message)}}}function c0(r){return`${r.name}!${r.options.appId}`}const R1=1024,C1=30;class I1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>C1){const o=D1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ar.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$v(),{heartbeatsToSend:n,unsentEntries:s}=N1(this._heartbeatsCache.heartbeats),o=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ar.warn(e),""}}}function $v(){return new Date().toISOString().substring(0,10)}function N1(r,e=R1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Jv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Jv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class O1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gC()?yC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await w1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Xv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jv(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function D1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function M1(r){uo(new Xs("platform-logger",e=>new FC(e),"PRIVATE")),uo(new Xs("heartbeat",e=>new I1(e),"PRIVATE")),ns(Mm,Kv,r),ns(Mm,Kv,"esm2020"),ns("fire-js","")}M1("");var x1="firebase",V1="12.6.0";ns(x1,V1,"app");function h0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L1=h0,f0=new hu("auth","Firebase",h0());const Sh=new dp("@firebase/auth");function P1(r,...e){Sh.logLevel<=Ve.WARN&&Sh.warn(`Auth (${So}): ${r}`,...e)}function lh(r,...e){Sh.logLevel<=Ve.ERROR&&Sh.error(`Auth (${So}): ${r}`,...e)}function Zn(r,...e){throw gp(r,...e)}function Ri(r,...e){return gp(r,...e)}function d0(r,e,n){const s={...L1(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function nr(r){return d0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return f0.create(r,...e)}function _e(r,e,...n){if(!r)throw gp(e,...n)}function Zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lh(e),new Error(e)}function or(r,e){r||Zi(e)}function Lm(){return typeof self<"u"&&self.location?.href||""}function U1(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function k1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U1()||fC()||"connection"in navigator)?navigator.onLine:!0}function j1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=uC()||dC()}get(){return k1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class m0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const B1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q1=new du(3e4,6e4);function fs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ds(r,e,n,s,o={}){return p0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return hC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&To(r.emulatorConfig.host)&&(g.credentials="include"),m0.fetch()(await g0(r,r.config.apiHost,n,m),g)})}async function p0(r,e,n){r._canInitEmulator=!1;const s={...z1,...e};try{const o=new F1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw d0(r,E,g);Zn(r,E)}}catch(o){if(o instanceof hr)throw o;Zn(r,"network-request-failed",{message:String(o)})}}async function mu(r,e,n,s,o={}){const u=await ds(r,e,n,s,o);return"mfaPendingCredential"in u&&Zn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function g0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?yp(r.config,o):`${r.config.apiScheme}://${o}`;return B1.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function H1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class F1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),q1.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ri(r,e,s);return o.customData._tokenResponse=n,o}function Zv(r){return r!==void 0&&r.enterprise!==void 0}class G1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Q1(r,e){return ds(r,"GET","/v2/recaptchaConfig",fs(r,e))}async function K1(r,e){return ds(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return ds(r,"POST","/v1/accounts:lookup",e)}function Hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y1(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=_p(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Hl(Em(o.auth_time)),issuedAtTime:Hl(Em(o.iat)),expirationTime:Hl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Em(r){return Number(r)*1e3}function _p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZT(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function eE(r){const e=_p(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof hr&&X1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function X1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class $1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Pm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bh(r){const e=r.auth,n=await r.getIdToken(),s=await Jl(r,Ah(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?y0(o.providerUserInfo):[],f=W1(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function J1(r){const e=rn(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function y0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Z1(r,e){const n=await p0(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await g0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&To(r.emulatorConfig.host)&&(p.credentials="include"),m0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eI(r,e){return ds(r,"POST","/v2/accounts:revokeToken",fs(r,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=eE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Z1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new io;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Gr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new $1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y1(this,e)}reload(){return J1(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Jl(this,K1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:b,isAnonymous:D,providerData:q,stsTokenManager:K}=n;_e(T&&K,e,"internal-error");const F=io.fromJSON(this.name,K);_e(typeof T=="string",e,"internal-error"),Gr(s,e.name),Gr(o,e.name),_e(typeof b=="boolean",e,"internal-error"),_e(typeof D=="boolean",e,"internal-error"),Gr(u,e.name),Gr(f,e.name),Gr(m,e.name),Gr(p,e.name),Gr(g,e.name),Gr(E,e.name);const ie=new Jn({uid:T,auth:e,email:o,emailVerified:b,displayName:s,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return q&&Array.isArray(q)&&(ie.providerData=q.map(J=>({...J}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new io;o.updateFromServerResponse(n);const u=new Jn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?y0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new io;m.updateFromIdToken(s);const p=new Jn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const tE=new Map;function er(r){or(r instanceof Function,"Expected a class definition");let e=tE.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,tE.set(r,e),e)}class _0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_0.type="NONE";const nE=_0;function uh(r,e,n){return`firebase:${r}:${e}:${n}`}class ro{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?Jn._fromGetAccountInfoResponse(this.auth,n,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ro(er(nE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||er(nE);const f=uh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const b=await Ah(e,{idToken:E}).catch(()=>{});if(!b)break;T=await Jn._fromGetAccountInfoResponse(e,b,E)}else T=Jn._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ro(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ro(u,e,s))}}function iE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b0(e))return"Blackberry";if(w0(e))return"Webos";if(E0(e))return"Safari";if((e.includes("chrome/")||T0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function v0(r=Zt()){return/firefox\//i.test(r)}function E0(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function T0(r=Zt()){return/crios\//i.test(r)}function S0(r=Zt()){return/iemobile/i.test(r)}function A0(r=Zt()){return/android/i.test(r)}function b0(r=Zt()){return/blackberry/i.test(r)}function w0(r=Zt()){return/webos/i.test(r)}function vp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tI(r=Zt()){return vp(r)&&!!window.navigator?.standalone}function nI(){return mC()&&document.documentMode===10}function R0(r=Zt()){return vp(r)||A0(r)||w0(r)||b0(r)||/windows phone/i.test(r)||S0(r)}function C0(r,e=[]){let n;switch(r){case"Browser":n=iE(Zt());break;case"Worker":n=`${iE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${So}/${s}`}class iI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function rI(r,e={}){return ds(r,"GET","/v2/passwordPolicy",fs(r,e))}const sI=6;class aI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class oI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new iI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=er(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ro.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(nr(this));const n=e?rn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rI(this),n=new aI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&er(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await ro.create(this,[er(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&P1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ta(r){return rn(r)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=SC(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lI(r){qh=r}function I0(r){return qh.loadJS(r)}function uI(){return qh.recaptchaEnterpriseScript}function cI(){return qh.gapiScript}function hI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fI{constructor(){this.enterprise=new dI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mI="recaptcha-enterprise",N0="NO_RECAPTCHA";class pI{constructor(e){this.type=mI,this.auth=ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Q1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new G1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Zv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(N0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Zv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uI();p.length!==0&&(p+=m),I0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function sE(r,e,n,s=!1,o=!1){const u=new pI(r);let f;if(o)f=N0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Um(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await sE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await sE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function gI(r,e){const n=pp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function yI(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(er);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function _I(r,e,n){const s=ta(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=O0(e),{host:f,port:m}=vI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Ys(g,s.config.emulator)&&Ys(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,To(f)?(i0(`${u}//${f}${p}`),r0("Auth",!0)):EI()}function O0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vI(r){const e=O0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:aE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:aE(f)}}}function aE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function EI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Ep{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function TI(r,e){return ds(r,"POST","/v1/accounts:signUp",e)}async function SI(r,e){return mu(r,"POST","/v1/accounts:signInWithPassword",fs(r,e))}async function AI(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,e))}async function bI(r,e){return mu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,e))}class Wl extends Ep{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Wl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Wl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,n,"signInWithPassword",SI);case"emailLink":return AI(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Um(e,s,"signUpPassword",TI);case"emailLink":return bI(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function so(r,e){return mu(r,"POST","/v1/accounts:signInWithIdp",fs(r,e))}const wI="http://localhost";class $s extends Ep{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new $s(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,so(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:wI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}function RI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CI(r){const e=Pl(Ul(r)).link,n=e?Pl(Ul(e)).deep_link_id:null,s=Pl(Ul(r)).deep_link_id;return(s?Pl(Ul(s)).link:null)||s||n||e||r}class Tp{constructor(e){const n=Pl(Ul(e)),s=n.apiKey??null,o=n.oobCode??null,u=RI(n.mode??null);_e(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CI(e);try{return new Tp(n)}catch{return null}}}class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return Wl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Tp.parseLink(n);return _e(s,"argument-error"),Wl._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class pu extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yr extends pu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";class Xr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";class $r extends pu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";class Jr extends pu{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.TWITTER_SIGN_IN_METHOD="twitter.com";Jr.PROVIDER_ID="twitter.com";async function II(r,e){return mu(r,"POST","/v1/accounts:signUp",fs(r,e))}class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Jn._fromIdTokenResponse(e,s,o),f=oE(s);return new Js({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=oE(s);return new Js({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function oE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wh extends hr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new wh(e,n,s,o)}}function M0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,s):u})}async function NI(r,e,n=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Js._forOperation(r,"link",s)}async function OI(r,e,n=!1){const{auth:s}=r;if(Pn(s.app))return Promise.reject(nr(s));const o="reauthenticate";try{const u=await Jl(r,M0(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=_p(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),Js._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zn(s,"user-mismatch"),u}}async function x0(r,e,n=!1){if(Pn(r.app))return Promise.reject(nr(r));const s="signIn",o=await M0(r,s,e),u=await Js._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function DI(r,e){return x0(ta(r),e)}async function V0(r){const e=ta(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function MI(r,e,n){if(Pn(r.app))return Promise.reject(nr(r));const s=ta(r),f=await Um(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",II).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&V0(r),p}),m=await Js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function xI(r,e,n){return Pn(r.app)?Promise.reject(nr(r)):DI(rn(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&V0(r),s})}function VI(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function LI(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function PI(r,e,n,s){return rn(r).onAuthStateChanged(e,n,s)}function UI(r){return rn(r).signOut()}const Rh="__sak";class L0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const kI=1e3,jI=10;class P0 extends L0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,jI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P0.type="LOCAL";const zI=P0;class U0 extends L0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U0.type="SESSION";const k0=U0;function BI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await BI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function Sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class qI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Sp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(b.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ci(){return window}function HI(r){Ci().location.href=r}function j0(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function FI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GI(){return navigator?.serviceWorker?.controller||null}function QI(){return j0()?self:null}const z0="firebaseLocalStorageDb",KI=1,Ch="firebaseLocalStorage",B0="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function YI(){const r=indexedDB.deleteDatabase(z0);return new gu(r).toPromise()}function km(){const r=indexedDB.open(z0,KI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:B0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await YI(),e(await km()))})})}async function lE(r,e,n){const s=Fh(r,!0).put({[B0]:e,value:n});return new gu(s).toPromise()}async function XI(r,e){const n=Fh(r,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function uE(r,e){const n=Fh(r,!0).delete(e);return new gu(n).toPromise()}const $I=800,JI=3;class q0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>JI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(QI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FI(),!this.activeServiceWorker)return;this.sender=new qI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await lE(e,Rh,"1"),await uE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>lE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>XI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Fh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q0.type="LOCAL";const WI=q0;new du(3e4,6e4);function ZI(r,e){return e?er(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ap extends Ep{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(r){return x0(r.auth,new Ap(r),r.bypassAuthState)}function tN(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),OI(n,new Ap(r),r.bypassAuthState)}async function nN(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),NI(n,new Ap(r),r.bypassAuthState)}class H0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Zn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iN=new du(2e3,1e4);class no extends H0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=Sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}no.currentPopupAction=null;const rN="pendingRedirect",ch=new Map;class sN extends H0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(r,e){const n=uN(e),s=lN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function oN(r,e){ch.set(r._key(),e)}function lN(r){return er(r._redirectPersistence)}function uN(r){return uh(rN,r.config.apiKey,r.name)}async function cN(r,e,n=!1){if(Pn(r.app))return Promise.reject(nr(r));const s=ta(r),o=ZI(s,e),f=await new sN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const hN=600*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!F0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function F0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function dN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F0(r);default:return!1}}async function mN(r,e={}){return ds(r,"GET","/v1/projects",e)}const pN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mN(r);for(const n of e)try{if(_N(n))return}catch{}Zn(r,"unauthorized-domain")}function _N(r){const e=Lm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!gN.test(n))return!1;if(pN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const vN=new du(3e4,6e4);function hE(){const r=Ci().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EN(r){return new Promise((e,n)=>{function s(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),n(Ri(r,"network-request-failed"))},timeout:vN.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)s();else{const o=hI("iframefcb");return Ci()[o]=()=>{gapi.load?s():n(Ri(r,"network-request-failed"))},I0(`${cI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function TN(r){return hh=hh||EN(r),hh}const SN=new du(5e3,15e3),AN="__/auth/iframe",bN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?yp(e,bN):`https://${r.config.authDomain}/${AN}`,s={apiKey:e.apiKey,appName:r.name,v:So},o=RN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function IN(r){const e=await TN(r),n=Ci().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:CN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ri(r,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},SN.get());function p(){Ci().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const NN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ON=500,DN=600,MN="_blank",xN="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VN(r,e,n,s=ON,o=DN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...NN,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=T0(g)?MN:n),v0(g)&&(e=e||xN,p.scrollbars="yes");const E=Object.entries(p).reduce((b,[D,q])=>`${b}${D}=${q},`,"");if(tI(g)&&m!=="_self")return LN(e||"",m),new fE(null);const T=window.open(e||"",m,E);_e(T,r,"popup-blocked");try{T.focus()}catch{}return new fE(T)}function LN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const PN="__/auth/handler",UN="emulator/auth/handler",kN=encodeURIComponent("fac");async function dE(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:So,eventId:o};if(e instanceof D0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",TC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof pu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${kN}=${encodeURIComponent(p)}`:"";return`${jN(r)}?${fu(m).slice(1)}${g}`}function jN({config:r}){return r.emulator?yp(r,UN):`https://${r.authDomain}/${PN}`}const Tm="webStorageSupport";class zN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k0,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,n,s,o){or(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await dE(e,n,s,Lm(),o);return VN(e,u,Sp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await dE(e,n,s,Lm(),o);return HI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await IN(e),s=new fN(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R0()||E0()||vp()}}const BN=zN;var mE="@firebase/auth",pE="1.11.1";class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FN(r){uo(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(r)},g=new oI(s,o,u,p);return yI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),uo(new Xs("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(s=>new qN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(mE,pE,HN(r)),ns(mE,pE,"esm2020")}const GN=300,QN=n0("authIdTokenMaxAge")||GN;let gE=null;const KN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>QN)return;const o=n?.token;gE!==o&&(gE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function YN(r=l0()){const e=pp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gI(r,{popupRedirectResolver:BN,persistence:[WI,zI,k0]}),s=n0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KN(u.toString());LI(n,f,()=>f(n.currentUser)),VI(n,m=>f(m))}}const o=e0("auth");return o&&_I(n,`http://${o}`),n}function XN(){return document.getElementsByTagName("head")?.[0]??document}lI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",XN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FN("Browser");var yE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var is,G0;(function(){var r;function e(O,R){function C(){}C.prototype=R.prototype,O.F=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.D=function(L,M,k){for(var I=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)I[Ze-2]=arguments[Ze];return R.prototype[M].apply(L,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);const L=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)L[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;M<16;++M)L[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],M=O.g[2];let k=O.g[3],I;I=R+(k^C&(M^k))+L[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(M^R&(C^M))+L[1]+3905402710&4294967295,k=R+(I<<12&4294967295|I>>>20),I=M+(C^k&(R^C))+L[2]+606105819&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(R^M&(k^R))+L[3]+3250441966&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(k^C&(M^k))+L[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(M^R&(C^M))+L[5]+1200080426&4294967295,k=R+(I<<12&4294967295|I>>>20),I=M+(C^k&(R^C))+L[6]+2821735955&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(R^M&(k^R))+L[7]+4249261313&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(k^C&(M^k))+L[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(M^R&(C^M))+L[9]+2336552879&4294967295,k=R+(I<<12&4294967295|I>>>20),I=M+(C^k&(R^C))+L[10]+4294925233&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(R^M&(k^R))+L[11]+2304563134&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(k^C&(M^k))+L[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=k+(M^R&(C^M))+L[13]+4254626195&4294967295,k=R+(I<<12&4294967295|I>>>20),I=M+(C^k&(R^C))+L[14]+2792965006&4294967295,M=k+(I<<17&4294967295|I>>>15),I=C+(R^M&(k^R))+L[15]+1236535329&4294967295,C=M+(I<<22&4294967295|I>>>10),I=R+(M^k&(C^M))+L[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(R^C))+L[6]+3225465664&4294967295,k=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(k^R))+L[11]+643717713&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(M^k))+L[0]+3921069994&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^k&(C^M))+L[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(R^C))+L[10]+38016083&4294967295,k=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(k^R))+L[15]+3634488961&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(M^k))+L[4]+3889429448&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^k&(C^M))+L[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(R^C))+L[14]+3275163606&4294967295,k=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(k^R))+L[3]+4107603335&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(M^k))+L[8]+1163531501&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(M^k&(C^M))+L[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=k+(C^M&(R^C))+L[2]+4243563512&4294967295,k=R+(I<<9&4294967295|I>>>23),I=M+(R^C&(k^R))+L[7]+1735328473&4294967295,M=k+(I<<14&4294967295|I>>>18),I=C+(k^R&(M^k))+L[12]+2368359562&4294967295,C=M+(I<<20&4294967295|I>>>12),I=R+(C^M^k)+L[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^M)+L[8]+2272392833&4294967295,k=R+(I<<11&4294967295|I>>>21),I=M+(k^R^C)+L[11]+1839030562&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^R)+L[14]+4259657740&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^k)+L[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^M)+L[4]+1272893353&4294967295,k=R+(I<<11&4294967295|I>>>21),I=M+(k^R^C)+L[7]+4139469664&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^R)+L[10]+3200236656&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^k)+L[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^M)+L[0]+3936430074&4294967295,k=R+(I<<11&4294967295|I>>>21),I=M+(k^R^C)+L[3]+3572445317&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^R)+L[6]+76029189&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(C^M^k)+L[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=k+(R^C^M)+L[12]+3873151461&4294967295,k=R+(I<<11&4294967295|I>>>21),I=M+(k^R^C)+L[15]+530742520&4294967295,M=k+(I<<16&4294967295|I>>>16),I=C+(M^k^R)+L[2]+3299628645&4294967295,C=M+(I<<23&4294967295|I>>>9),I=R+(M^(C|~k))+L[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~M))+L[7]+1126891415&4294967295,k=R+(I<<10&4294967295|I>>>22),I=M+(R^(k|~C))+L[14]+2878612391&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~R))+L[5]+4237533241&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~k))+L[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~M))+L[3]+2399980690&4294967295,k=R+(I<<10&4294967295|I>>>22),I=M+(R^(k|~C))+L[10]+4293915773&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~R))+L[1]+2240044497&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~k))+L[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~M))+L[15]+4264355552&4294967295,k=R+(I<<10&4294967295|I>>>22),I=M+(R^(k|~C))+L[6]+2734768916&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~R))+L[13]+1309151649&4294967295,C=M+(I<<21&4294967295|I>>>11),I=R+(M^(C|~k))+L[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=k+(C^(R|~M))+L[11]+3174756917&4294967295,k=R+(I<<10&4294967295|I>>>22),I=M+(R^(k|~C))+L[2]+718787259&4294967295,M=k+(I<<15&4294967295|I>>>17),I=C+(k^(M|~R))+L[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.v=function(O,R){R===void 0&&(R=O.length);const C=R-this.blockSize,L=this.C;let M=this.h,k=0;for(;k<R;){if(M==0)for(;k<=C;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<R;)if(L[M++]=O.charCodeAt(k++),M==this.blockSize){o(this,L),M=0;break}}else for(;k<R;)if(L[M++]=O[k++],M==this.blockSize){o(this,L),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;R=this.o*8;for(var C=O.length-8;C<O.length;++C)O[C]=R&255,R/=256;for(this.v(O),O=Array(16),R=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)O[R++]=this.g[C]>>>L&255;return O};function u(O,R){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function f(O,R){this.h=R;const C=[];let L=!0;for(let M=O.length-1;M>=0;M--){const k=O[M]|0;L&&k==R||(C[M]=k,L=!1)}this.g=C}var m={};function p(O){return-128<=O&&O<128?u(O,function(R){return new f([R|0],R<0?-1:0)}):new f([O|0],O<0?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(O<0)return F(g(-O));const R=[];let C=1;for(let L=0;O>=C;L++)R[L]=O/C|0,C*=4294967296;return new f(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return F(E(O.substring(1),R));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let L=T;for(let k=0;k<O.length;k+=8){var M=Math.min(8,O.length-k);const I=parseInt(O.substring(k,k+M),R);M<8?(M=g(Math.pow(R,M)),L=L.j(M).add(g(I))):(L=L.j(C),L=L.add(g(I)))}return L}var T=p(0),b=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-F(this).m();let O=0,R=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);O+=(L>=0?L:4294967296+L)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(q(this))return"0";if(K(this))return"-"+F(this).toString(O);const R=g(Math.pow(O,6));var C=this;let L="";for(;;){const M=ye(C,R).g;C=ie(C,M.j(R));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(O);if(C=M,q(C))return k+L;for(;k.length<6;)k="0"+k;L=k+L}},r.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function q(O){if(O.h!=0)return!1;for(let R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function K(O){return O.h==-1}r.l=function(O){return O=ie(this,O),K(O)?-1:q(O)?0:1};function F(O){const R=O.g.length,C=[];for(let L=0;L<R;L++)C[L]=~O.g[L];return new f(C,~O.h).add(b)}r.abs=function(){return K(this)?F(this):this},r.add=function(O){const R=Math.max(this.g.length,O.g.length),C=[];let L=0;for(let M=0;M<=R;M++){let k=L+(this.i(M)&65535)+(O.i(M)&65535),I=(k>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);L=I>>>16,k&=65535,I&=65535,C[M]=I<<16|k}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ie(O,R){return O.add(F(R))}r.j=function(O){if(q(this)||q(O))return T;if(K(this))return K(O)?F(this).j(F(O)):F(F(this).j(O));if(K(O))return F(this.j(F(O)));if(this.l(D)<0&&O.l(D)<0)return g(this.m()*O.m());const R=this.g.length+O.g.length,C=[];for(var L=0;L<2*R;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let M=0;M<O.g.length;M++){const k=this.i(L)>>>16,I=this.i(L)&65535,Ze=O.i(M)>>>16,ft=O.i(M)&65535;C[2*L+2*M]+=I*ft,J(C,2*L+2*M),C[2*L+2*M+1]+=k*ft,J(C,2*L+2*M+1),C[2*L+2*M+1]+=I*Ze,J(C,2*L+2*M+1),C[2*L+2*M+2]+=k*Ze,J(C,2*L+2*M+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function J(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function re(O,R){this.g=O,this.h=R}function ye(O,R){if(q(R))throw Error("division by zero");if(q(O))return new re(T,T);if(K(O))return R=ye(F(O),R),new re(F(R.g),F(R.h));if(K(R))return R=ye(O,F(R)),new re(F(R.g),R.h);if(O.g.length>30){if(K(O)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,L=R;L.l(O)<=0;)C=pe(C),L=pe(L);var M=be(C,1),k=be(L,1);for(L=be(L,2),C=be(C,2);!q(L);){var I=k.add(L);I.l(O)<=0&&(M=M.add(C),k=I),L=be(L,1),C=be(C,1)}return R=ie(O,M.j(R)),new re(M,R)}for(M=T;O.l(R)>=0;){for(C=Math.max(1,Math.floor(O.m()/R.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),k=g(C),I=k.j(R);K(I)||I.l(O)>0;)C-=L,k=g(C),I=k.j(R);q(k)&&(k=b),M=M.add(k),O=ie(O,I)}return new re(M,O)}r.B=function(O){return ye(this,O).h},r.and=function(O){const R=Math.max(this.g.length,O.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)&O.i(L);return new f(C,this.h&O.h)},r.or=function(O){const R=Math.max(this.g.length,O.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)|O.i(L);return new f(C,this.h|O.h)},r.xor=function(O){const R=Math.max(this.g.length,O.g.length),C=[];for(let L=0;L<R;L++)C[L]=this.i(L)^O.i(L);return new f(C,this.h^O.h)};function pe(O){const R=O.g.length+1,C=[];for(let L=0;L<R;L++)C[L]=O.i(L)<<1|O.i(L-1)>>>31;return new f(C,O.h)}function be(O,R){const C=R>>5;R%=32;const L=O.g.length-C,M=[];for(let k=0;k<L;k++)M[k]=R>0?O.i(k+C)>>>R|O.i(k+C+1)<<32-R:O.i(k+C);return new f(M,O.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,G0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,is=f}).apply(typeof yE<"u"?yE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Q0,kl,K0,fh,jm,Y0,X0,$0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,G){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[j].apply(A,se)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function q(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let se=0;se<G;se++)c[v+se]=j[se]}else c.push(j)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function ie(){var c=O;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new K(()=>new ye,c=>c.reset());class ye{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,be=!1,O=new J,R=()=>{const c=Promise.resolve(void 0);pe=()=>{c.then(C)}};function C(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){F(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}be=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function Ze(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Ze,M),Ze.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),Y=0;function te(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++Y,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ne(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function Ue(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,A,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const se=Ce(c,y,A,j);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new te(y,this.src,G,!!A,j),y.fa=v,c.push(y)),y};function Ee(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(A,j,1),G&&(ce(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,A){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==A)return j}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,v,A,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)st(c,y[G],v,A,j);return null}return v=Do(v),c&&c[ft]?c.J(y,v,m(A)?!!A.capture:!1,j):ms(c,y,v,!1,A,j)}function ms(c,y,v,A,j,G){if(!y)throw Error("Invalid event type");const se=m(j)?!!j.capture:!!j;let we=ps(c);if(we||(c[je]=we=new ue(c)),v=we.add(y,v,A,se,G),v.proxy)return v;if(A=oa(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(ii(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return y.call(c.src,c.listener,v)}const y=No;return c}function la(c,y,v,A,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)la(c,y[G],v,A,j);else A=m(A)?!!A.capture:!!A,v=Do(v),c&&c[ft]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ce(y,v,A,j),v>-1&&(ce(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ps(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,A,j)),(v=c>-1?y[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ft])Ee(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(ii(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ps(y))?(Ee(v,c),v.h==0&&(v.src=null,y[je]=null)):ce(c)}}}function ii(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function No(c,y){if(c.da)c=!0;else{y=new Ze(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&ua(c),c=v.call(A,y)}return c}function ps(c){return c=c[je],c instanceof ue?c:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Do(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function _t(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}T(_t,L),_t.prototype[ft]=!0,_t.prototype.removeEventListener=function(c,y,v,A){la(this,c,y,v,A)};function Dt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var j=y;y=new M(A,c),ae(y,j)}j=!0;let G,se;if(v)for(se=v.length-1;se>=0;se--)G=y.g=v[se],j=fr(G,A,!0,y)&&j;if(G=y.g=c,j=fr(G,A,!0,y)&&j,j=fr(G,A,!1,y)&&j,v)for(se=0;se<v.length;se++)G=y.g=v[se],j=fr(G,A,!1,y)&&j}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ce(v[A]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},_t.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function fr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const se=y[G];if(se&&!se.da&&se.capture==v){const we=se.listener,mt=se.ha||se.src;se.fa&&Ee(c.i,se),j=we.call(mt,A)!==!1&&j}}return j&&!A.defaultPrevented}function uf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Au(c){c.g=uf(()=>{c.g=null,c.i&&(c.i=!1,Au(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends L{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Au(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(c){L.call(this),this.h=c,this.g={}}T(gs,L);var Mo=[];function xo(c){Ne(c.g,function(y,v){this.g.hasOwnProperty(v)&&ua(y)},c),c.g={}}gs.prototype.N=function(){gs.Z.N.call(this),xo(this)},gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=f.JSON.stringify,cf=f.JSON.parse,bu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Ru(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){M.call(this,"d")}T(jt,M);function An(){M.call(this,"c")}T(An,M);var dt={},Cu=null;function ca(){return Cu=Cu||new _t}dt.Ia="serverreachability";function Iu(c){M.call(this,dt.Ia,c)}T(Iu,M);function ri(c){const y=ca();Dt(y,new Iu(y))}dt.STAT_EVENT="statevent";function ys(c,y){M.call(this,dt.STAT_EVENT,c),this.stat=y}T(ys,M);function vt(c){const y=ca();Dt(y,new ys(y,c))}dt.Ja="timingevent";function si(c,y){M.call(this,dt.Ja,c),this.size=y}T(si,M);function ai(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function hf(c,y,v,A,j,G){c.info(function(){if(c.g)if(G){var se="",we=G.split("&");for(let He=0;He<we.length;He++){var mt=we[He].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const Cn=at.split("_");se=Cn.length>=2&&Cn[1]=="type"?se+(at+"="+mt+"&"):se+(at+"=redacted&")}}}else se=null;else se=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+se})}function Nu(c,y,v,A,j,G,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+G+" "+se})}function oi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ff(c,v)+(A?" "+A:"")})}function _s(c,y){c.info(function(){return"TIMEOUT: "+y})}zn.prototype.info=function(){};function ff(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return dr(G)}catch{return y}}var vs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Vo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Lo;function Es(){}T(Es,wu),Es.prototype.g=function(){return new XMLHttpRequest},Lo=new Es;function Vi(c){return encodeURIComponent(String(c))}function Ou(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Bn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new gs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function li(c,y,v){c.M=1,c.A=Ts(St(y)),c.u=v,c.R=!0,ha(c,null)}function ha(c,y){c.F=Date.now(),ui(c),c.B=St(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),pa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new qn,c.g=Gu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Mo[0]=j.toString()),j=Mo);for(let G=0;G<j.length;G++){const se=st(v,j[G],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ri(),hf(c.i,c.v,c.B,c.l,c.S,c.u)}Bn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Gn(c)==3?y.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Gn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||we!=4||mt==7||(mt==8||He<=0?ri(3):ri(2)),ci(this);var y=this.g.ca();this.X=y;var v=df(this);if(this.o=y==200,Nu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var G=A;break t}}G=null}if(c=G)oi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,c);else{this.o=!1,this.m=3,vt(12),dn(this),bn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Mu(this,v),at==Lt){we==4&&(this.m=4,vt(14),c=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),oi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else oi(this.i,this.l,at,null),hi(this,at);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)oi(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),$o(se),se.P=!0,vt(11))}}else oi(this.i,this.l,v,null),hi(this,v);we==4&&dn(this),this.o&&!this.K&&(we==4?Bu(this.j,this):(this.o=!1,ui(this)))}else Pi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),dn(this),bn(this)}}}catch{}finally{}};function df(c){if(!Du(c))return c.g.la();const y=zt(c.g);if(y==="")return"";let v="";const A=y.length,j=Gn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),bn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(j&&G==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Mu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Lt:(v=Number(y.substring(v,A)),isNaN(v)?Et:(A+=1,A+v>y.length?Lt:(y=y.slice(A,A+v),c.C=A+v,y)))}Bn.prototype.cancel=function(){this.K=!0,dn(this)};function ui(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ai(g(c.aa,c),y)}function ci(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Bn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(_s(this.i,this.B),this.M!=2&&(ri(),vt(17)),dn(this),this.m=2,bn(this)):fa(this,this.T-c)};function bn(c){c.j.I==0||c.K||Bu(c.j,c)}function dn(c){ci(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,xo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function hi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||di(v.h,c))){if(!c.L&&di(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),Tr(v);else break e;Is(v),vt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(g(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((c.L||v.g==c)&&Ea(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let He=j[y];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const Cn=He[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const Ei=He[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Qn=He[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(A=1.5*Qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Kn=c.g;if(Kn){const Ns=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var G=A.h;G.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ko(G,G.h),G.h=null))}if(A.G){const Ta=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(A.wa=Ta,Qe(A.J,A.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=c;if(A.na=Fu(A,A.L?A.ba:null,A.W),se.L){jo(A.h,se);var we=se,mt=A.O;mt&&(we.H=mt),we.D&&(ci(we),ui(we)),A.g=se}else ju(A);v.i.length>0&&_i(v)}else He[0]!="stop"&&He[0]!="close"||vi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vi(v,7):Yo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ri(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function Po(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Uo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fi(c){return c.h?1:c.g?c.g.size:0}function di(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ko(c,y){c.g?c.g.add(y):c.h=y}function jo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Po.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return D(c.i)}var xu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,G=null;A>=0?(j=c[v].substring(0,A),G=c[v].substring(A+1)):j=c[v],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof mn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.u),this.h=c.h,Bo(this,Uu(c.i)),this.m=c.m):c&&(y=String(c).match(xu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=mi(y[2]||""),this.g=mi(y[3]||"",!0),mr(this,y[4]),this.h=mi(y[5]||"",!0),Bo(this,y[6]||"",!0),this.m=mi(y[7]||"")):(this.l=!1,this.i=new gr(null,this.l))}mn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ss(y,ma,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ss(y,ma,!0),"@"),c.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ss(v,v.charAt(0)=="/"?qo:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ss(v,Lu)),c.join("")},mn.prototype.resolve=function(c){const y=St(this);let v=!!c.j;v?Pt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)mr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let se=0;se<j.length;){const we=j[se++];we=="."?A&&se==j.length&&G.push(""):we==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&se==j.length&&G.push("")):(G.push(we),A=!0)}A=G.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Bo(y,Uu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function St(c){return new mn(c)}function Pt(c,y,v){c.j=v?mi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Bo(c,y,v){y instanceof gr?(c.i=y,ga(c.i,c.l)):(v||(y=Ss(y,pr)),c.i=new gr(y,c.l))}function Qe(c,y,v){c.i.set(y,v)}function Ts(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function mi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,sn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Vu=/[#\?:]/g,qo=/[#\?]/g,pr=/[#\?@]/g,Lu=/#/g;function gr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function an(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=gr.prototype,r.add=function(c,y){an(this),this.i=null,c=yr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Pu(c,y){an(c),y=yr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ho(c,y){return an(c),y=yr(c,y),c.g.has(y)}r.forEach=function(c,y){an(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function Fo(c,y){an(c);let v=[];if(typeof y=="string")Ho(c,y)&&(v=v.concat(c.g.get(yr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return an(this),this.i=null,c=yr(this,c),Ho(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Fo(this,c),c.length>0?String(c[0]):y):y};function pa(c,y,v){Pu(c,y),v.length>0&&(c.i=null,c.g.set(yr(c,y),D(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=Vi(v);v=Fo(this,v);for(let G=0;G<v.length;G++){let se=j;v[G]!==""&&(se+="="+Vi(v[G])),c.push(se)}}return this.i=c.join("&")};function Uu(c){const y=new gr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function yr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ga(c,y){y&&!c.j&&(an(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Pu(this,A),pa(this,j,v))},c)),c.j=y}function Hn(c,y){const v=new zn;if(f.Image){const A=new Image;A.onload=E(wn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(wn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(wn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(wn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Go(c,y){const v=new zn,A=new AbortController,j=setTimeout(()=>{A.abort(),wn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?wn(v,"TestPingServer: ok",!0,y):wn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),wn(v,"TestPingServer: error",!1,y)})}function wn(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function _r(){this.g=new bu}function pi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(pi,wu),pi.prototype.g=function(){return new As(this.i,this.h)};function As(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(As,_t),r=As.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Fn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vr(this):Fn(this),this.readyState==3&&ya(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,vr(this))},r.Na=function(c){this.g&&(this.response=c,vr(this))},r.ga=function(){this.g&&vr(this)};function vr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(As.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rn(c){let y="";return Ne(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function bs(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Rn(v),typeof c=="string"?v!=null&&Vi(v):Qe(c,y,v))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,_t);var gi=/^https?$/i,Qo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Lo.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){ws(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of v)this.g.setRequestHeader(G,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){ws(this,G)}};function ws(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Ko(c),Li(c)}function Ko(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),Li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Rs(this):this.Xa())},r.Xa=function(){Rs(this)};function Rs(c){if(c.h&&typeof u<"u"){if(c.v&&Gn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=G===0){let se=String(c.D).match(xu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!gi.test(se?se.toLowerCase():"")}v=A}if(v)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var j=Gn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Ko(c)}}finally{Li(c)}}}}function Li(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Dt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),cf(y)}};function zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(c){const y={};c=(c.g&&Gn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Ou(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[j]||[];y[j]=G,G.push(v)}Ue(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Er(c){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,c),this.Za=yi("retryDelaySeedMs",1e4,c),this.Ta=yi("forwardChannelMaxRetries",2,c),this.va=yi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Po(c&&c.concurrentRequestLimit),this.Ba=new _r,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Er.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){vt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Fu(this,null,this.W),_i(this)};function Yo(c){if(_a(c),c.I==3){var y=c.V++,v=St(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",y),Qe(v,"TYPE","terminate"),Cs(c,v),y=new Bn(c,c.j,y),y.M=2,y.A=Ts(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),ui(y)}Hu(c)}function Tr(c){c.g&&($o(c),c.g.cancel(),c.g=null)}function _a(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function _i(c){if(!Uo(c.h)&&!c.m){c.m=!0;var y=c.Ea;pe||R(),be||(pe(),be=!0),O.add(y,c),c.D=0}}function va(c,y){return fi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ai(g(c.Ea,c,y),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Bn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ku(this,j,y),v=St(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),Cs(this,v),G&&(this.R?y="headers="+Vi(Rn(G))+"&"+y:this.u&&bs(v,this.u,G)),ko(this.h,j),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",y),Qe(v,"SID","null"),j.U=!0,li(j,v,null)):li(j,v,y),this.I=2}}else this.I==3&&(c?Xo(this,c):this.i.length==0||Uo(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.V++;const A=St(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),Cs(c,A),c.u&&c.o&&bs(A,c.u,c.o),v=new Bn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ku(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ko(c.h,v),li(v,A,y)}function Cs(c,y){c.H&&Ne(c.H,function(v,A){Qe(y,A,v)}),c.l&&Ne({},function(v,A){Qe(y,A,v)})}function ku(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const mt=["count="+v];we==-1?v>0?(we=j[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let He=!0;for(let at=0;at<v;at++){var G=j[at].g;const Cn=j[at].map;if(G-=we,G<0)we=Math.max(0,j[at].g-100),He=!1;else try{G="req"+G+"_"||"";try{var se=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Ei,Qn]of se){let Kn=Qn;m(Qn)&&(Kn=dr(Qn)),mt.push(G+Ei+"="+encodeURIComponent(Kn))}}catch(Ei){throw mt.push(G+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(Cn)}}if(He){se=mt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;pe||R(),be||(pe(),be=!0),O.add(y,c),c.A=0}}function Is(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ai(g(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ai(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Tr(this),zu(this))};function $o(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Qe(y,"RID","rpc"),Qe(y,"SID",c.M),Qe(y,"AID",c.K),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(y,"TO",c.ia),Qe(y,"TYPE","xmlhttp"),Cs(c,y),c.u&&c.o&&bs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ts(St(y)),v.u=null,v.R=!0,ha(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),Is(this),vt(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,y){var v=null;if(c.g==y){Ea(c),$o(c),c.g=null;var A=2}else if(di(c.h,y))v=y.G,jo(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=ca(),Dt(A,new si(A,v)),_i(c)}else ju(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&va(c,y)||A==2&&Is(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function vi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const j=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),Ts(A),j?Hn(A.toString(),v):Go(A.toString(),v)}else vt(2);c.I=0,c.l&&c.l.pa(y),Hu(c),_a(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function Fu(c,y,v){var A=v instanceof mn?St(v):new mn(v);if(A.g!="")y&&(A.g=y+"."+A.g),mr(A,A.u);else{var j=f.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new mn(null);A&&Pt(G,A),y&&(G.g=y),j&&mr(G,j),v&&(G.h=v),A=G}return v=c.G,y=c.wa,v&&y&&Qe(A,v,y),Qe(A,"VER",c.ka),Cs(c,A),A}function Gu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new pi({ab:v})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Sr(){}Sr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){_t.call(this),this.g=new Er(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Ui(this)}T(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Yo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=dr(c),c=v);y.i.push(new Tt(y.Ya++,c)),y.I==3&&_i(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,tn.Z.N.call(this)};function Ku(c){jt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Ku,jt);function Yu(){An.call(this),this.status=1}T(Yu,An);function Ui(c){this.g=c}T(Ui,Qu),Ui.prototype.ra=function(){Dt(this.g,"a")},Ui.prototype.qa=function(c){Dt(this.g,new Ku(c))},Ui.prototype.pa=function(c){Dt(this.g,new Yu)},Ui.prototype.oa=function(){Dt(this.g,"b")},Sr.prototype.createWebChannel=Sr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,$0=function(){return new Sr},X0=function(){return ca()},Y0=dt,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,fh=vs,Vo.COMPLETE="complete",K0=Vo,Ru.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,kl=Ru,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,Q0=Xe}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const _E="@firebase/firestore",vE="4.9.2";class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let bo="12.3.0";const Ws=new dp("@firebase/firestore");function Wa(){return Ws.logLevel}function le(r,...e){if(Ws.logLevel<=Ve.DEBUG){const n=e.map(bp);Ws.debug(`Firestore (${bo}): ${r}`,...n)}}function lr(r,...e){if(Ws.logLevel<=Ve.ERROR){const n=e.map(bp);Ws.error(`Firestore (${bo}): ${r}`,...n)}}function co(r,...e){if(Ws.logLevel<=Ve.WARN){const n=e.map(bp);Ws.warn(`Firestore (${bo}): ${r}`,...n)}}function bp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,J0(r,s,n)}function J0(r,e,n){let s=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||J0(e,o,s)}function Ae(r,e){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ir{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class W0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n($t.UNAUTHENTICATED)))}shutdown(){}}class JN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WN{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new W0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class ZN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ZN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n($t.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new EE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new EE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function n2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=n2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Le(r,e){return r<e?-1:r>e?1:0}function zm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Sm(o)===Sm(u)?Le(o,u):Sm(o)?1:-1}return Le(r.length,e.length)}const i2=55296,r2=57343;function Sm(r){const e=r.charCodeAt(0);return e>=i2&&e<=r2}function ho(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const TE="__name__";class wi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=wi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const s=wi.isNumericId(e),o=wi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class tt extends wi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const s2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends wi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return s2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===TE}static keyField(){return new Qt([TE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new oe(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function Z0(r,e,n){if(!n)throw new oe(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function a2(r,e,n,s){if(e===!0&&s===!0)throw new oe(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function SE(r){if(!me.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AE(r){if(me.isDocumentKey(r))throw new oe(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function eS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Gh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function fo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(r);throw new oe(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function yu(r,e){if(!eS(r))throw new oe(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(W.INVALID_ARGUMENT,n);return!0}const bE=-62135596800,wE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*wE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bE)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wE}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function o2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new as(o,me.empty(),e)}function l2(r){return new as(r.readTime,r.key,Zl)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Te.min(),me.empty(),Zl)}static max(){return new as(Te.max(),me.empty(),Zl)}}function u2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(r.documentKey,e.documentKey),n!==0?n:Le(r.largestBatchId,e.largestBatchId))}const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==c2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function f2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qh.ce=-1;const Rp=-1;function Kh(r){return r==null}function Ih(r){return r===0&&1/r==-1/0}function d2(r){return typeof r=="number"&&Number.isInteger(r)&&!Ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const tS="";function m2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=RE(e)),e=p2(r.get(n),e);return RE(e)}function p2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case tS:n+="";break;default:n+=u}}return n}function RE(r){return r+tS+""}function CE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function na(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function nS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IE(this.data.getIterator())}getIteratorFrom(e){return new IE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class IE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Wn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new Vt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class iS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iS("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=g2.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const rS="server_timestamp",sS="__type__",aS="__previous_value__",oS="__local_write_time__";function Cp(r){return(r?.mapValue?.fields||{})[sS]?.stringValue===rS}function Yh(r){const e=r.mapValue.fields[aS];return Cp(e)?Yh(e):e}function eu(r){const e=os(r.mapValue.fields[oS].timestampValue);return new rt(e.seconds,e.nanos)}class y2{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Nh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}const lS="__type__",_2="__max__",nh={mapValue:{}},uS="__vector__",Oh="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cp(r)?4:E2(r)?9007199254740991:v2(r)?10:11:ve(28295,{value:r})}function Mi(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=yt(o.doubleValue),m=yt(u.doubleValue);return f===m?Ih(f)===Ih(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ho(r.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(CE(f)!==CE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Mi(f[p],m[p])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>Mi(n,e)))!==void 0}function mo(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return Le(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=yt(u.integerValue||u.doubleValue),p=yt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return NE(r.timestampValue,e.timestampValue);case 4:return NE(eu(r),eu(e));case 5:return zm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Le(m[g],p[g]);if(E!==0)return E}return Le(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Le(yt(u.latitude),yt(f.latitude));return m!==0?m:Le(yt(u.longitude),yt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return OE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Oh]?.arrayValue,E=p[Oh]?.arrayValue,T=Le(g?.values?.length||0,E?.values?.length||0);return T!==0?T:OE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const b=zm(p[T],E[T]);if(b!==0)return b;const D=mo(m[p[T]],g[E[T]]);if(D!==0)return D}return Le(p.length,E.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function NE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const n=os(r),s=os(e),o=Le(n.seconds,s.seconds);return o!==0?o:Le(n.nanos,s.nanos)}function OE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return Le(n.length,s.length)}function po(r){return Bm(r)}function Bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return me.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Bm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Bm(n.fields[f])}`;return o+"}"})(r.mapValue):ve(61005,{value:r})}function dh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return na(s.fields,((u,f)=>{o+=u.length+dh(f)})),o})(r.mapValue);default:throw ve(13486,{value:r})}}function DE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function qm(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function ME(r){return!!r&&"nullValue"in r}function xE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function v2(r){return(r?.mapValue?.fields||{})[lS]?.stringValue===uS}function Fl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return na(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Fl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(r.arrayValue.values[n]);return e}return{...r}}function E2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_2}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Fl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){na(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Un(Fl(this.value))}}function cS(r){const e=[];return na(r.fields,((n,s)=>{const o=new Qt([n]);if(mh(s)){const u=cS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Wn(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Te.min(),Te.min(),Te.min(),Un.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Te.min(),Te.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Te.min(),Te.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function VE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=mo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function LE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Mi(r.position[n],e.position[n]))return!1;return!0}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function T2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class hS{}class It extends hS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new A2(e,n,s):n==="array-contains"?new R2(e,s):n==="in"?new C2(e,s):n==="not-in"?new I2(e,s):n==="array-contains-any"?new N2(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new b2(e,s):new w2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends hS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return fS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fS(r){return r.op==="and"}function dS(r){return S2(r)&&fS(r)}function S2(r){for(const e of r.filters)if(e instanceof ei)return!1;return!0}function Hm(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+po(r.value);if(dS(r))return r.filters.map((e=>Hm(e))).join(",");{const e=r.filters.map((n=>Hm(n))).join(",");return`${r.op}(${e})`}}function mS(r,e){return r instanceof It?(function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)})(r,e):r instanceof ei?(function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&mS(f,o.filters[m])),!0):!1})(r,e):void ve(19439)}function pS(r){return r instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`})(r):r instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(pS).join(" ,")+"}"})(r):"Filter"}class A2 extends It{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class b2 extends It{constructor(e,n){super(e,"in",n),this.keys=gS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class w2 extends It{constructor(e,n){super(e,"not-in",n),this.keys=gS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function gS(r,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class R2 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&nu(n.arrayValue,this.value)}}class C2 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class I2 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class N2 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class O2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function PE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new O2(r,e,n,s,o,u,f)}function Np(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Hm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>po(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>po(s))).join(",")),e.Te=n}return e.Te}function Op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!T2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!mS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!LE(r.startAt,e.startAt)&&LE(r.endAt,e.endAt)}function Fm(r){return me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Co{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function D2(r,e,n,s,o,u,f,m){return new Co(r,e,n,s,o,u,f,m)}function Dp(r){return new Co(r)}function UE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yS(r){return r.collectionGroup!==null}function Gl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new iu(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new iu(Qt.keyField(),s))}return e.Ie}function Ii(r){const e=Ae(r);return e.Ee||(e.Ee=M2(e,Gl(r))),e.Ee}function M2(r,e){if(r.limitType==="F")return PE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new iu(o.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return PE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Gm(r,e){const n=r.filters.concat([e]);return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Qm(r,e,n){return new Co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Xh(r,e){return Op(Ii(r),Ii(e))&&r.limitType===e.limitType}function _S(r){return`${Np(Ii(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>pS(o))).join(", ")}]`),Kh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>po(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>po(o))).join(",")),`Target(${s})`})(Ii(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Gl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=VE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Gl(s),o)||s.endAt&&!(function(f,m,p){const g=VE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Gl(s),o))})(r,e)}function x2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vS(r){return(e,n)=>{let s=!1;for(const o of Gl(r)){const u=V2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function V2(r,e,n){const s=r.field.isKeyField()?me.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?mo(p,g):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return nS(this.inner)}size(){return this.innerSize}}const L2=new ut(me.comparator);function ur(){return L2}const ES=new ut(me.comparator);function jl(...r){let e=ES;for(const n of r)e=e.insert(n.key,n);return e}function TS(r){let e=ES;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Qs(){return Ql()}function SS(){return Ql()}function Ql(){return new ia((r=>r.toString()),((r,e)=>r.isEqual(e)))}const P2=new ut(me.comparator),U2=new Vt(me.comparator);function Pe(...r){let e=U2;for(const n of r)e=e.add(n);return e}const k2=new Vt(Le);function j2(){return k2}function Mp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function AS(r){return{integerValue:""+r}}function z2(r,e){return d2(e)?AS(e):Mp(r,e)}class Jh{constructor(){this._=void 0}}function B2(r,e,n){return r instanceof Mh?(function(o,u){const f={fields:{[sS]:{stringValue:rS},[oS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Cp(u)&&(u=Yh(u)),u&&(f.fields[aS]=u),{mapValue:f}})(n,e):r instanceof ru?wS(r,e):r instanceof su?RS(r,e):(function(o,u){const f=bS(o,u),m=kE(f)+kE(o.Ae);return qm(f)&&qm(o.Ae)?AS(m):Mp(o.serializer,m)})(r,e)}function q2(r,e,n){return r instanceof ru?wS(r,e):r instanceof su?RS(r,e):n}function bS(r,e){return r instanceof xh?(function(s){return qm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Mh extends Jh{}class ru extends Jh{constructor(e){super(),this.elements=e}}function wS(r,e){const n=CS(e);for(const s of r.elements)n.some((o=>Mi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends Jh{constructor(e){super(),this.elements=e}}function RS(r,e){let n=CS(e);for(const s of r.elements)n=n.filter((o=>!Mi(o,s)));return{arrayValue:{values:n}}}class xh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kE(r){return yt(r.integerValue||r.doubleValue)}function CS(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function H2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?ho(s.elements,o.elements,Mi):s instanceof xh&&o instanceof xh?Mi(s.Ae,o.Ae):s instanceof Mh&&o instanceof Mh})(r.transform,e.transform)}class F2{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function IS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new OS(r.key,rr.none()):new _u(r.key,r.data,rr.none());{const n=r.data,s=Un.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ra(r.key,s,new Wn(o.toArray()),rr.none())}}function G2(r,e,n){r instanceof _u?(function(o,u,f){const m=o.value.clone(),p=zE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ra?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=zE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(NS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(r,e,n,s){return r instanceof _u?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=u.value.clone(),E=BE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ra?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=BE(u.fieldTransforms,p,f),E=f.data;return E.setAll(NS(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Q2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=bS(s.transform,o||null);u!=null&&(n===null&&(n=Un.empty()),n.set(s.field,u))}return n||null}function jE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ho(s,o,((u,f)=>H2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _u extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function zE(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,q2(f,m,n[o]))}return s}function BE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,B2(u,f,e))}return s}class OS extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K2 extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&G2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=SS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=IS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,((n,s)=>jE(n,s)))&&ho(this.baseMutations,e.baseMutations,((n,s)=>jE(n,s)))}}class xp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return P2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new xp(e,n,s,o)}}class X2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class $2{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ct,ze;function J2(r){switch(r){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function DS(r){if(r===void 0)return lr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ct.OK:return W.OK;case Ct.CANCELLED:return W.CANCELLED;case Ct.UNKNOWN:return W.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return W.INTERNAL;case Ct.UNAVAILABLE:return W.UNAVAILABLE;case Ct.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ct.NOT_FOUND:return W.NOT_FOUND;case Ct.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ct.ABORTED:return W.ABORTED;case Ct.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ct.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:r})}}(ze=Ct||(Ct={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";function W2(){return new TextEncoder}const Z2=new is([4294967295,4294967295],0);function qE(r){const e=W2().encode(r),n=new G0;return n.update(e),new Uint8Array(n.digest())}function HE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class Vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new zl(`Invalid padding: ${n}`);if(s<0)throw new zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new zl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=is.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(Z2)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=qE(e),[s,o]=HE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=qE(e),[s,o]=HE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(Te.min(),o,new ut(Le),ur(),Pe())}}class vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vu(s,n,Pe(),Pe(),Pe())}}class gh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class MS{constructor(e,n){this.targetId=e,this.Ce=n}}class xS{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class FE{constructor(){this.ve=0,this.Fe=GE(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}})),new vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=GE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eO{constructor(e){this.Ge=e,this.ze=new Map,this.je=ur(),this.Je=ih(),this.He=ih(),this.Ye=new ut(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Fm(u))if(s===0){const f=new me(u.path);this.et(n,f,Jt.newNoDocument(f,Te.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof iS)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(f,o,u)}catch(p){return co(p instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Fm(m.target)){const p=new me(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Zh(e,n,this.Ye,this.je,s);return this.je=ur(),this.Je=ih(),this.He=ih(),this.Ye=new ut(Le),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new FE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ut(me.comparator)}function GE(){return new ut(me.comparator)}const tO={asc:"ASCENDING",desc:"DESCENDING"},nO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iO={and:"AND",or:"OR"};class rO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(r,e){return r.useProto3Json||Kh(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function sO(r,e){return Vh(r,e.toTimestamp())}function Ni(r){return Ge(!!r,49232),Te.fromTimestamp((function(n){const s=os(n);return new rt(s.seconds,s.nanos)})(r))}function Lp(r,e){return Ym(r,e).canonicalString()}function Ym(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function LS(r){const e=tt.fromString(r);return Ge(zS(e),10190,{key:e.toString()}),e}function Xm(r,e){return Lp(r.databaseId,e.path)}function Am(r,e){const n=LS(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new me(US(n))}function PS(r,e){return Lp(r.databaseId,e)}function aO(r){const e=LS(r);return e.length===4?tt.emptyPath():US(e)}function $m(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function US(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function QE(r,e,n){return{name:Xm(r,e),fields:n.value.mapValue.fields}}function oO(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Kt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Kt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?W.UNKNOWN:DS(g.code);return new oe(E,g.message||"")})(f);n=new xS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Am(r,s.document.name),u=Ni(s.document.updateTime),f=s.document.createTime?Ni(s.document.createTime):Te.min(),m=new Un({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Am(r,s.document),u=s.readTime?Ni(s.readTime):Te.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Am(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new $2(o,u),m=s.targetId;n=new MS(m,f)}}return n}function lO(r,e){let n;if(e instanceof _u)n={update:QE(r,e.key,e.value)};else if(e instanceof OS)n={delete:Xm(r,e.key)};else if(e instanceof ra)n={update:QE(r,e.key,e.data),updateMask:yO(e.fieldMask)};else{if(!(e instanceof K2))return ve(16599,{Vt:e.type});n={verify:Xm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:sO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function uO(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Ni(o.updateTime):Ni(u);return f.isEqual(Te.min())&&(f=Ni(u)),new F2(f,o.transformResults||[])})(n,e)))):[]}function cO(r,e){return{documents:[PS(r,e.path)]}}function hO(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=PS(r,o);const u=(function(g){if(g.length!==0)return jS(ei.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(b){return{field:eo(b.field),direction:mO(b.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function fO(r){let e=aO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const b=kS(T);return b instanceof ei&&dS(b)?b.getFilters():[b]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((b=>(function(q){return new iu(to(q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(b)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let b;return b=typeof T=="object"?T.value:T,Kh(b)?null:b})(n.limit));let p=null;n.startAt&&(p=(function(T){const b=!!T.before,D=T.values||[];return new Dh(D,b)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const b=!T.before,D=T.values||[];return new Dh(D,b)})(n.endAt)),D2(e,o,f,u,m,"F",p,g)}function dO(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return It.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return It.create(to(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((s=>kS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function mO(r){return tO[r]}function pO(r){return nO[r]}function gO(r){return iO[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return Qt.fromServerFormat(r.fieldPath)}function jS(r){return r instanceof It?(function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(ME(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(ME(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:pO(n.op),value:n.value}}})(r):r instanceof ei?(function(n){const s=n.getFilters().map((o=>jS(o)));return s.length===1?s[0]:{compositeFilter:{op:gO(n.op),filters:s}}})(r):ve(54877,{filter:r})}function yO(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function zS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Wr{constructor(e,n,s,o,u=Te.min(),f=Te.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _O{constructor(e){this.yt=e}}function vO(r){const e=fO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Qm(e,e.limit,"L"):e}class EO{constructor(){this.Cn=new TO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(as.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class TO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}const KE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BS=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(BS,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class go{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new go(0)}static cr(){return new go(-1)}}const YE="LruGarbageCollector",SO=1048576;function XE([r,e],[n,s]){const o=Le(r,n);return o===0?Le(e,s):o}class AO{constructor(e){this.Ir=e,this.buffer=new Vt(XE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();XE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(YE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?le(YE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)}))}}class wO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Qh.ce);const s=new AO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(KE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Wa()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function RO(r,e){return new wO(r,e)}class CO{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class NO{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Kl(s.mutation,o,Wn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Qs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=jl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=ur();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ra)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),rt.now())):f.set(g.key,Wn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new IO(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new ut(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Wn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=SS();E.forEach((b=>{if(!u.has(b)){const D=IS(n.get(b),s.get(b));D!==null&&T.set(b,D),u=u.add(b)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Qs());let m=Zl,p=u;return f.next((g=>ne.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((b=>{p=p.insert(E,b)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:TS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((s=>{let o=jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=jl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,b){return new Co(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,b)=>{f=f.insert(T,b)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=jl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,Wn.empty(),rt.now()),$h(n,g)&&(m=m.insert(p,g))})),m}))}}class OO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:vO(o.bundledQuery),readTime:Ni(o.readTime)}})(n)),ne.resolve()}}class DO{constructor(){this.overlays=new ut(me.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new X2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class MO{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Pp{constructor(){this.Qr=new Vt(kt.$r),this.Ur=new Vt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new me(new tt([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),s=new kt(n,e),o=new kt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class xO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Y2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Rp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Le);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const f=new kt(new me(u),0);let m=new Vt(Le);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class VO{constructor(e){this.ri=e,this.docs=(function(){return new ut(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=ur();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ur();const f=n.path,m=new me(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||u2(l2(E),s)<=0||(o.has(E.key)||$h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new LO(this)}getSize(e){return ne.resolve(this.size)}}class LO extends CO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class PO{constructor(e){this.persistence=e,this.si=new ia((n=>Np(n)),Op),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Pp,this.targetCount=0,this.ai=go.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new go(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class qS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Qh(0),this.li=!1,this.li=!0,this.hi=new MO,this.referenceDelegate=e(this),this.Pi=new PO(this),this.indexManager=new EO,this.remoteDocumentCache=(function(o){return new VO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new _O(n),this.Ii=new OO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new xO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new UO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class UO extends h2{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Ri=new Pp,this.Vi=null}static mi(e){return new Up(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=me.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Lh{constructor(e,n){this.persistence=e,this.pi=new ia((s=>m2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=RO(this,n)}static mi(e,n){return new Lh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new kp(e,n.fromCache,s,o)}}class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pC()?8:f2(Zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new kO;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Wa()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Wa()<=Ve.DEBUG&&le("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Wa()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):ne.resolve())}ys(e,n){if(UE(n))return ne.resolve(null);let s=Ii(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Qm(n,null,"F"),s=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Qm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return UE(n)||o.isEqual(Te.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Wa()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,f,n,o2(o,Zl)).next((m=>m)))}))}Ds(e,n){let s=new Vt(vS(e));return n.forEach(((o,u)=>{$h(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Wa()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,as.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const jp="LocalStore",zO=3e8;class BO{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Le),this.xs=new ia((u=>Np(u)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function qO(r,e,n,s){return new BO(r,e,n,s)}async function HS(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function HO(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,b=T.keys();let D=ne.resolve();return b.forEach((q=>{D=D.next((()=>E.getEntry(p,q))).next((K=>{const F=g.docVersions.get(q);Ge(F!==null,48541),K.version.compareTo(F)<0&&(T.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function FS(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FO(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const b=o.get(T);if(!b)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let D=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(T,D),(function(K,F,ie){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=zO?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(b,D,E)&&m.push(n.Pi.updateTargetData(u,D))}));let p=ur(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(GO(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Te.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function GO(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=ur();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(jp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function QO(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Rp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function KO(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Jm(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;le(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function $E(r,e,n){const s=Ae(r);let o=Te.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Ae(p),b=T.xs.get(E);return b!==void 0?ne.resolve(T.Ms.get(b)):T.Pi.getTargetData(g,E)})(s,f,Ii(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Pe()))).next((m=>(YO(s,x2(e),m),{documents:m,Qs:u})))))}function YO(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class JE{constructor(){this.activeTargetIds=j2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XO{constructor(){this.Mo=new JE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $O{Oo(e){}shutdown(){}}const WE="ConnectivityMonitor";class ZE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(WE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(WE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Wm(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const bm="RestConnection",JO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Wm(),m=this.zo(e,n.toUriEncodedString());le(bm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=To(g);return this.Jo(e,m,p,s,E).then((T=>(le(bm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw co(bm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=JO[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class ZO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class eD extends WO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Wm();return new Promise(((m,p)=>{const g=new Q0;g.setWithCredentials(!0),g.listenOnce(K0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const T=g.getResponseJson();le(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case fh.TIMEOUT:le(Xt,`RPC '${e}' ${f} timed out`),p(new oe(W.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const b=g.getStatus();if(le(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",g.getResponseText()),b>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const q=D?.error;if(q&&q.status&&q.message){const K=(function(ie){const J=ie.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(J)>=0?J:W.UNKNOWN})(q.status);p(new oe(K,q.message))}else p(new oe(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Wm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$0(),m=X0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let b=!1,D=!1;const q=new ZO({Yo:F=>{D?le(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(b||(le(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),b=!0),le(Xt,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),K=(F,ie,J)=>{F.listen(ie,(re=>{try{J(re)}catch(ye){setTimeout((()=>{throw ye}),0)}}))};return K(T,kl.EventType.OPEN,(()=>{D||(le(Xt,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),K(T,kl.EventType.CLOSE,(()=>{D||(D=!0,le(Xt,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(T))})),K(T,kl.EventType.ERROR,(F=>{D||(D=!0,co(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.a_(new oe(W.UNAVAILABLE,"The operation could not be completed")))})),K(T,kl.EventType.MESSAGE,(F=>{if(!D){const ie=F.data[0];Ge(!!ie,16349);const J=ie,re=J?.error||J[0]?.error;if(re){le(Xt,`RPC '${e}' stream ${o} received error:`,re);const ye=re.status;let pe=(function(R){const C=Ct[R];if(C!==void 0)return DS(C)})(ye),be=re.message;pe===void 0&&(pe=W.INTERNAL,be="Unknown error status: "+ye+" with message "+re.message),D=!0,q.a_(new oe(pe,be)),T.close()}else le(Xt,`RPC '${e}' stream ${o} received:`,ie),q.u_(ie)}})),K(m,Y0.STAT_EVENT,(F=>{F.stat===jm.PROXY?le(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===jm.NOPROXY&&le(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wm(){return typeof document<"u"?document:null}function ef(r){return new rO(r,!0)}class GS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const eT="PersistentStream";class QS{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tD extends QS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=oO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Ni(f.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Fm(p)?{documents:cO(u,p)}:{query:hO(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=VS(u,f.resumeToken);const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const g=Km(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=dO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class nD extends QS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uO(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>lO(this.serializer,s)))};this.q_(n)}}class iD{}class rD extends iD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Ym(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Ym(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Zs="RemoteStore";class aD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{sa(this)&&(le(Zs,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await Eu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await tf(g)})(this))}))})),this.Ra=new sD(s,o)}}async function tf(r){if(sa(r))for(const e of r.da)await e(!0)}async function Eu(r){for(const e of r.da)await e(!1)}function KS(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hp(n)?qp(n):Io(n).O_()&&Bp(n,e))}function zp(r,e){const n=Ae(r),s=Io(n);n.Ia.delete(e),s.O_()&&YS(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Bp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).Y_(e)}function YS(r,e){r.Va.Ue(e),Io(r).Z_(e)}function qp(r){r.Va=new eO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.Ra.ua()}function Hp(r){return sa(r)&&!Io(r).x_()&&r.Ia.size>0}function sa(r){return Ae(r).Ea.size===0}function XS(r){r.Va=void 0}async function oD(r){r.Ra.set("Online")}async function lD(r){r.Ia.forEach(((e,n)=>{Bp(r,e)}))}async function uD(r,e){XS(r),Hp(r)?(r.Ra.ha(e),qp(r)):r.Ra.set("Unknown")}async function cD(r,e,n){if(r.Ra.set("Online"),e instanceof xS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ph(r,s)}else if(e instanceof gh?r.Va.Ze(e):e instanceof MS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await FS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Kt.EMPTY_BYTE_STRING,E.snapshotVersion)),YS(u,p);const T=new Wr(E.target,p,g,E.sequenceNumber);Bp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(Zs,"Failed to raise snapshot:",s),await Ph(r,s)}}async function Ph(r,e,n){if(!Ro(e))throw e;r.Ea.add(1),await Eu(r),r.Ra.set("Offline"),n||(n=()=>FS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Zs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await tf(r)}))}function $S(r,e){return e().catch((n=>Ph(r,n,e)))}async function nf(r){const e=Ae(r),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;hD(e);)try{const o=await QO(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,fD(e,o)}catch(o){await Ph(e,o)}JS(e)&&WS(e)}function hD(r){return sa(r)&&r.Ta.length<10}function fD(r,e){r.Ta.push(e);const n=cs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(r){return sa(r)&&!cs(r).x_()&&r.Ta.length>0}function WS(r){cs(r).start()}async function dD(r){cs(r).ra()}async function mD(r){const e=cs(r);for(const n of r.Ta)e.ea(n.mutations)}async function pD(r,e,n){const s=r.Ta.shift(),o=xp.from(s,e,n);await $S(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nf(r)}async function gD(r,e){e&&cs(r).X_&&await(async function(s,o){if((function(f){return J2(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await $S(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(s)}})(r,e),JS(r)&&WS(r)}async function tT(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(Zs,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tf(n)}async function yD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await tf(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Io(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new tD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:oD.bind(null,r),t_:lD.bind(null,r),r_:uD.bind(null,r),H_:cD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Hp(r)?qp(r):r.Ra.set("Unknown")):(await r.ma.stop(),XS(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new nD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:dD.bind(null,r),r_:gD.bind(null,r),ta:mD.bind(null,r),na:pD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await nf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Zs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Fp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(r,e){if(lr("AsyncQueue",`${e}: ${r}`),Ro(r))return new oe(W.UNAVAILABLE,`${e}: ${r}`);throw r}class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=jl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class nT{constructor(){this.ga=new ut(me.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class yo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new yo(e,n,ao.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class _D{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vD{constructor(){this.queries=iT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=iT(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(W.ABORTED,"Firestore shutting down"))}}function iT(){return new ia((r=>_S(r)),Xh)}async function ZS(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new _D,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Qp(n)}async function eA(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ED(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Qp(n)}function TD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Qp(r){r.Ca.forEach((e=>{e.next()}))}var Zm,rT;(rT=Zm||(Zm={})).Ma="default",rT.Cache="cache";class tA{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new yo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zm.Cache}}class nA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class SD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=vS(e),this.tu=new ao(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new nT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const b=o.get(E),D=$h(this.query,T)?T:null,q=!!b&&this.mutatedKeys.has(b.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let F=!1;b&&D?b.data.isEqual(D.data)?q!==K&&(s.track({type:3,doc:D}),F=!0):this.su(b,D)||(s.track({type:2,doc:D}),F=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!b&&D?(s.track({type:0,doc:D}),F=!0):b&&!D&&(s.track({type:1,doc:b}),F=!0,(p||g)&&(m=!0)),F&&(D?(f=f.add(D),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(D,q){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return K(D)-K(q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new yo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new iA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new nA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kp="SyncEngine";class AD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bD{constructor(e){this.key=e,this.hu=!1}}class wD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>_S(m)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(me.comparator),this.Au=new Map,this.Ru=new Pp,this.Vu={},this.mu=new Map,this.fu=go.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RD(r,e,n=!0){const s=uA(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await rA(s,e,n,!0),o}async function CD(r,e){const n=uA(r);await rA(n,e,!0,!1)}async function rA(r,e,n,s){const o=await KO(r.localStore,Ii(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await ID(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&KS(r.remoteStore,o),m}async function ID(r,e,n,s,o){r.pu=(T,b,D)=>(async function(K,F,ie,J){let re=F.view.ru(ie);re.Cs&&(re=await $E(K.localStore,F.query,!1).then((({documents:O})=>F.view.ru(O,re))));const ye=J&&J.targetChanges.get(F.targetId),pe=J&&J.targetMismatches.get(F.targetId)!=null,be=F.view.applyChanges(re,K.isPrimaryClient,ye,pe);return aT(K,F.targetId,be.au),be.snapshot})(r,T,b,D);const u=await $E(r.localStore,e,!0),f=new SD(e,u.Qs),m=f.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);aT(r,n,g.au);const E=new AD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function ND(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Xh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),ep(s,o.targetId)})).catch(wo)):(ep(s,o.targetId),await Jm(s.localStore,o.targetId,!0))}async function OD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function DD(r,e,n){const s=kD(r);try{const o=await(function(f,m){const p=Ae(f),g=rt.now(),E=m.reduce(((D,q)=>D.add(q.key)),Pe());let T,b;return p.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let q=ur(),K=Pe();return p.Ns.getEntries(D,E).next((F=>{q=F,q.forEach(((ie,J)=>{J.isValidDocument()||(K=K.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(D,q))).next((F=>{T=F;const ie=[];for(const J of m){const re=Q2(J,T.get(J.key).overlayedDocument);re!=null&&ie.push(new ra(J.key,re,cS(re.value.mapValue),rr.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,ie,m)})).next((F=>{b=F;const ie=F.applyToLocalDocumentSet(T,K);return p.documentOverlayCache.saveOverlays(D,F.batchId,ie)}))})).then((()=>({batchId:b.batchId,changes:TS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Le)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Tu(s,o.changes),await nf(s.remoteStore)}catch(o){const u=Gp(o,"Failed to persist write");n.reject(u)}}async function sA(r,e){const n=Ae(r);try{const s=await FO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await Tu(n,s,e)}catch(s){await wo(s)}}function sT(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const b of T.Sa)b.va(m)&&(g=!0)})),g&&Qp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MD(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(me.comparator);f=f.insert(u,Jt.newNoDocument(u,Te.min()));const m=Pe().add(u),p=new Zh(Te.min(),new Map,new ut(Le),f,m);await sA(s,p),s.du=s.du.remove(u),s.Au.delete(e),Yp(s)}else await Jm(s.localStore,e,!1).then((()=>ep(s,e,n))).catch(wo)}async function xD(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await HO(n.localStore,e);oA(n,s,null),aA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await wo(o)}}async function VD(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ge(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);oA(s,e,n),aA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await wo(o)}}function aA(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function oA(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function ep(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||lA(r,s)}))}function lA(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(zp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Yp(r))}function aT(r,e,n){for(const s of n)s instanceof nA?(r.Ru.addReference(s.key,e),LD(r,s)):s instanceof iA?(le(Kp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||lA(r,s.key)):ve(19791,{wu:s})}function LD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(Kp,"New document in limbo: "+n),r.Eu.add(s),Yp(r))}function Yp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new me(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new bD(n)),r.du=r.du.insert(n,s),KS(r.remoteStore,new Wr(Ii(Dp(n.path)),s,"TargetPurposeLimboResolution",Qh.ce))}}async function Tu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=kp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(b=>ne.forEach(b.Es,(D=>E.persistence.referenceDelegate.addReference(T,b.targetId,D))).next((()=>ne.forEach(b.ds,(D=>E.persistence.referenceDelegate.removeReference(T,b.targetId,D)))))))))}catch(T){if(!Ro(T))throw T;le(jp,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const D=E.Ms.get(b),q=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(b,K)}}})(s.localStore,u))}async function PD(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(Kp,"User change. New user:",e.toKey());const s=await HS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function UD(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function uA(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MD.bind(null,e),e.Pu.H_=ED.bind(null,e.eventManager),e.Pu.yu=TD.bind(null,e.eventManager),e}function kD(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qO(this.persistence,new jO,e.initialUser,this.serializer)}Cu(e){return new qS(Up.mi,this.serializer)}Du(e){return new XO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class jD extends Uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Lh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new qS((s=>Lh.mi(s,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>sT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=PD.bind(null,this.syncEngine),await yD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vD})()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),s=(function(u){return new eD(u)})(e.databaseInfo);return(function(u,f,m,p){return new rD(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new aD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>sT(this.syncEngine,n,0)),(function(){return ZE.v()?new ZE:new $O})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new wD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);le(Zs,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tp.provider={build:()=>new tp};class cA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hs="FirestoreClient";class zD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Gp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),le(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await HS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function oT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await BD(r);le(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>tT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>tT(e.remoteStore,o))),r._onlineComponents=e}async function BD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(hs,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Uh)}}else le(hs,"Using default OfflineComponentProvider"),await Rm(r,new jD(void 0));return r._offlineComponents}async function hA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(hs,"Using user provided OnlineComponentProvider"),await oT(r,r._uninitializedComponentsProvider._online)):(le(hs,"Using default OnlineComponentProvider"),await oT(r,new tp))),r._onlineComponents}function qD(r){return hA(r).then((e=>e.syncEngine))}async function fA(r){const e=await hA(r),n=e.eventManager;return n.onListen=RD.bind(null,e.syncEngine),n.onUnlisten=ND.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OD.bind(null,e.syncEngine),n}function HD(r,e,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new cA({next:b=>{E.Nu(),f.enqueueAndForget((()=>eA(u,T)));const D=b.docs.has(m);!D&&b.fromCache?g.reject(new oe(W.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&b.fromCache&&p&&p.source==="server"?g.reject(new oe(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new tA(Dp(m.path),E,{includeMetadataChanges:!0,qa:!0});return ZS(u,T)})(await fA(r),r.asyncQueue,e,n,s))),s.promise}function FD(r,e,n={}){const s=new ir;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new cA({next:b=>{E.Nu(),f.enqueueAndForget((()=>eA(u,T))),b.fromCache&&p.source==="server"?g.reject(new oe(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new tA(m,E,{includeMetadataChanges:!0,qa:!0});return ZS(u,T)})(await fA(r),r.asyncQueue,e,n,s))),s.promise}function dA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const lT=new Map;const mA="firestore.googleapis.com",uT=!0;class cT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=uT}else this.host=e.host,this.ssl=e.ssl??uT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SO)throw new oe(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new $N;switch(s.type){case"firstParty":return new e2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=lT.get(n);s&&(le("ComponentProvider","Removing Datastore"),lT.delete(n),s.terminate())})(this),Promise.resolve()}}function GD(r,e,n,s={}){r=fo(r,rf);const o=To(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(i0(`https://${m}`),r0("Firestore",!0)),u.host!==mA&&u.host!==m&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ys(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=aC(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(T)}r._authCredentials=new JN(new W0(g,E))}}class aa{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class xt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,xt._jsonSchema))return new xt(e,s||null,new me(tt.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Nt("string",xt._jsonSchemaVersion),referencePath:Nt("string")};class rs extends aa{constructor(e,n,s){super(e,n,Dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new me(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function oo(r,e,...n){if(r=rn(r),Z0("collection","path",e),r instanceof rf){const s=tt.fromString(e,...n);return AE(s),new rs(r,null,s)}{if(!(r instanceof xt||r instanceof rs))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return AE(s),new rs(r.firestore,null,s)}}function Xp(r,e,...n){if(r=rn(r),arguments.length===1&&(e=wp.newId()),Z0("doc","path",e),r instanceof rf){const s=tt.fromString(e,...n);return SE(s),new xt(r,null,new me(s))}{if(!(r instanceof xt||r instanceof rs))throw new oe(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return SE(s),new xt(r.firestore,r instanceof rs?r.converter:null,new me(s))}}const hT="AsyncQueue";class fT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GS(this,"async_queue_retry"),this._c=()=>{const s=wm();s&&le(hT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;le(hT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",dT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Fp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:dT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function dT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class sf extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new fT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fT(e),this._firestoreClient=void 0,await e}}}function QD(r,e){const n=typeof r=="object"?r:l0(),s=typeof r=="string"?r:Nh,o=pp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=rC("firestore");u&&GD(o,...u)}return o}function $p(r){if(r._terminated)throw new oe(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||KD(r),r._firestoreClient}function KD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new y2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,dA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new zD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Kt.fromBase64String(e))}catch(n){throw new oe(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Nt("string",kn._jsonSchemaVersion),bytes:Nt("string")};class Jp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pA{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(yu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Nt("string",Oi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Di(e.vectorValues);throw new oe(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:Nt("string",Di._jsonSchemaVersion),vectorValues:Nt("object")};const YD=/^__.*__$/;class XD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}function gA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Wp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gA(this.Ac)&&YD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $D{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ef(e)}Cc(e,n,s,o=!1){return new Wp({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yA(r){const e=r._freezeSettings(),n=ef(r._databaseId);return new $D(r._databaseId,!!e.ignoreUndefinedProperties,n)}function JD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);EA("Data must be an object, but it was:",f,s);const m=_A(s,f);let p,g;if(u.merge)p=new Wn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const b=ZD(e,T,n);if(!f.contains(b))throw new oe(W.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);tM(E,b)||E.push(b)}p=new Wn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new XD(new Un(m),p,g)}function WD(r,e,n,s=!1){return Zp(n,r.Cc(s?4:3,e))}function Zp(r,e){if(vA(r=rn(r)))return EA("Unsupported field value:",e,r),_A(r,e);if(r instanceof pA)return(function(s,o){if(!gA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Zp(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return z2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:VS(o.serializer,s._byteString)};if(s instanceof xt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Di)return(function(f,m){return{mapValue:{fields:{[lS]:{stringValue:uS},[Oh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Mp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Gh(s)}`)})(r,e)}function _A(r,e){const n={};return nS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(r,((s,o)=>{const u=Zp(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function vA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Oi||r instanceof kn||r instanceof xt||r instanceof pA||r instanceof Di)}function EA(r,e,n){if(!vA(n)||!eS(n)){const s=Gh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ZD(r,e,n){if((e=rn(e))instanceof Jp)return e._internalPath;if(typeof e=="string")return TA(r,e);throw kh("Field path arguments must be of type string or ",r,!1,void 0,n)}const eM=new RegExp("[~\\*/\\[\\]]");function TA(r,e,n){if(e.search(eM)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Jp(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function kh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new oe(W.INVALID_ARGUMENT,m+r+p)}function tM(r,e){return r.some((n=>n.isEqual(e)))}class SA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(af("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nM extends SA{data(){return super.data()}}function af(r,e){return typeof e=="string"?TA(r,e):e instanceof Jp?e._internalPath:e._delegate._internalPath}function iM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class AA extends eg{}function np(r,e,...n){let s=[];e instanceof eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof tg)).length,m=u.filter((p=>p instanceof of)).length;if(f>1||f>0&&m>0)throw new oe(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class of extends AA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new of(e,n,s)}_apply(e){const n=this._parse(e);return bA(e._query,n),new aa(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=yA(e.firestore);return(function(u,f,m,p,g,E,T){let b;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){gT(T,E);const q=[];for(const K of T)q.push(pT(p,u,K));b={arrayValue:{values:q}}}else b=pT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||gT(T,E),b=WD(m,f,T,E==="in"||E==="not-in");return It.create(g,E,b)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ip(r,e,n){const s=e,o=af("where",r);return of._create(o,s,n)}class tg extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new tg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)bA(f,p),f=Gm(f,p)})(e._query,n),new aa(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ng extends AA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ng(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new iu(u,f)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Co(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function mT(r,e="asc"){const n=e,s=af("orderBy",r);return ng._create(s,n)}function pT(r,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new oe(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yS(e)&&n.indexOf("/")!==-1)throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!me.isDocumentKey(s))throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return DE(r,new me(s))}if(n instanceof xt)return DE(r,n._key);throw new oe(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function gT(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rM{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return na(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((s=>yt(s.doubleValue)));return new Di(n)}convertGeoPoint(e){return new Oi(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=os(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ge(zS(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function sM(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends SA{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(af("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Nt("string",Ks._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class yh extends Ks{data(e={}){return super.data(e)}}class lo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Bl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new Bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Bl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:aM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}function wA(r){r=fo(r,xt);const e=fo(r.firestore,sf);return HD($p(e),r._key).then((n=>lM(e,r,n)))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Nt("string",lo._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class RA extends rM{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function rp(r){r=fo(r,aa);const e=fo(r.firestore,sf),n=$p(e),s=new RA(e);return iM(r._query),FD(n,r._query).then((o=>new lo(e,s,r,o)))}function ig(r,e){const n=fo(r.firestore,sf),s=Xp(r),o=sM(r.converter,e);return oM(n,[JD(yA(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,rr.exists(!1))]).then((()=>s))}function oM(r,e){return(function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget((async()=>DD(await qD(s),o,u))),u.promise})($p(r),e)}function lM(r,e,n){const s=n.docs.get(e._key),o=new RA(r);return new Ks(r,o,e._key,s,new Bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){bo=o})(So),uo(new Xs("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new sf(new WN(s.getProvider("auth-internal")),new t2(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ns(_E,vE,e),ns(_E,vE,"esm2020")})();const uM={apiKey:"AIzaSyDDQpEkeXlrqlbrmfpxkTjSmmzfCGxjQ7w",authDomain:"quizzmeanything.firebaseapp.com",projectId:"quizzmeanything",storageBucket:"quizzmeanything.firebasestorage.app",messagingSenderId:"422424641448",appId:"1:422424641448:web:94f4e28f26041ed0ff679d",measurementId:"G-WNLJ2M05QT"},CA=o0(uM),sh=YN(CA),Zr=QD(CA),IA=gw.createContext();function lf(){return U.useContext(IA)}function cM({children:r}){const[e,n]=U.useState(null),[s,o]=U.useState(!0);function u(g,E){return MI(sh,g,E)}function f(g,E){return xI(sh,g,E)}function m(){return UI(sh)}U.useEffect(()=>PI(sh,E=>{n(E),o(!1)}),[]);const p={currentUser:e,signup:u,login:f,logout:m};return w.jsx(IA.Provider,{value:p,children:!s&&r})}const hM=()=>{const r=xi();return w.jsxs("div",{className:"landing-page",children:[w.jsxs("div",{className:"landing-header",children:[w.jsx("button",{className:"mini-quiz-btn",onClick:()=>r("/quiz"),children:"Quiz Me"}),w.jsx("button",{className:"teacher-btn",onClick:()=>r("/login"),children:"Teacher Portal"})]}),w.jsx("h1",{children:"Welcome to QuizMeAnything"}),w.jsx("p",{className:"subtitle",children:"The ultimate AI-powered quiz generator. Test your knowledge on absolutely any topic imaginable."}),w.jsxs("div",{className:"features-grid",children:[w.jsxs("div",{className:"feature-card",children:[w.jsx("h3",{children:" AI-Powered"}),w.jsx("p",{children:"Powered by Google's Gemini AI to generate unique and accurate questions instantly."})]}),w.jsxs("div",{className:"feature-card",children:[w.jsx("h3",{children:" Any Topic"}),w.jsx("p",{children:"From Quantum Physics to 90s Pop Music, if you can name it, we can quiz you on it."})]}),w.jsxs("div",{className:"feature-card",children:[w.jsx("h3",{children:" Adjustable Level"}),w.jsx("p",{children:'Set the difficulty from "5th Grade" to "PhD Expert" to match your learning level.'})]}),w.jsxs("div",{className:"feature-card",children:[w.jsx("h3",{children:" Easy Sharing"}),w.jsx("p",{children:"Teachers can generate custom quizzes and share a direct link with students instantly."})]})]}),w.jsxs("div",{className:"how-it-works",children:[w.jsx("h2",{children:"How It Works"}),w.jsxs("div",{className:"steps-container",children:[w.jsxs("div",{className:"step",children:[w.jsx("div",{className:"step-number",children:"1"}),w.jsx("p",{children:"Enter any topic you want to learn about"})]}),w.jsxs("div",{className:"step",children:[w.jsx("div",{className:"step-number",children:"2"}),w.jsx("p",{children:"Select your preferred difficulty level"})]}),w.jsxs("div",{className:"step",children:[w.jsx("div",{className:"step-number",children:"3"}),w.jsx("p",{children:"Challenge yourself and master the subject!"})]})]})]}),w.jsx("button",{className:"primary-btn",onClick:()=>r("/quiz"),children:"Start Quiz"})]})},fM=({onStartQuiz:r,loading:e})=>{const[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(5),[p,g]=U.useState("multiple-choice"),[E,T]=U.useState("standard"),[b,D]=U.useState(!1),[q,K]=U.useState(""),[F,ie]=U.useState(!1),J=pe=>{pe.preventDefault(),r(n,o,f,p,E)},re=()=>{if(!n||!o||!f){alert("Please fill in all fields to generate a link.");return}const pe=`${window.location.origin}/quiz?topic=${encodeURIComponent(n)}&grade=${encodeURIComponent(o)}&numQuestions=${f}&type=${p}&tone=${E}`;K(pe),D(!0),ie(!1)},ye=()=>{navigator.clipboard.writeText(q),ie(!0),setTimeout(()=>ie(!1),2e3)};return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"quiz-form-container card-glass",children:[w.jsx("h2",{children:"Setup Your Quiz"}),w.jsxs("form",{onSubmit:J,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"topic",children:"Topic:"}),w.jsx("input",{type:"text",id:"topic",value:n,onChange:pe=>s(pe.target.value),required:!0,placeholder:"e.g., World History, Quantum Physics, 90s Pop Music"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"grade",children:"Difficulty / Grade Level:"}),w.jsx("input",{type:"text",id:"grade",value:o,onChange:pe=>u(pe.target.value),required:!0,placeholder:"e.g., 5th Grade, High School, PhD, Expert"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"numQuestions",children:"Number of Questions:"}),w.jsx("input",{type:"number",id:"numQuestions",value:f,onChange:pe=>m(parseInt(pe.target.value)||""),min:"1",max:"20",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"questionType",children:"Question Type:"}),w.jsxs("select",{id:"questionType",value:p,onChange:pe=>g(pe.target.value),children:[w.jsx("option",{value:"multiple-choice",children:"Multiple Choice"}),w.jsx("option",{value:"true-false",children:"True / False"}),w.jsx("option",{value:"mixed",children:"Mixed"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"tone",children:"Tone / Style:"}),w.jsxs("select",{id:"tone",value:E,onChange:pe=>T(pe.target.value),children:[w.jsx("option",{value:"standard",children:"Standard"}),w.jsx("option",{value:"humorous",children:"Humorous / Fun"}),w.jsx("option",{value:"sarcastic",children:"Sarcastic"}),w.jsx("option",{value:"enthusiastic",children:"Enthusiastic"}),w.jsx("option",{value:"pirate",children:"Pirate Speak"})]})]}),w.jsx("button",{type:"submit",disabled:e,className:"start-btn",children:e?"Generating Questions...":"Quiz Me"}),w.jsx("button",{type:"button",onClick:re,className:"share-btn",disabled:e,children:"Share Quiz Link"})]})]}),b&&w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-content card-glass",children:[w.jsx("h3",{children:"Share Quiz"}),w.jsx("p",{children:"Send this link to your students:"}),w.jsxs("div",{className:"url-box",children:[w.jsx("input",{type:"text",value:q,readOnly:!0}),w.jsx("button",{onClick:ye,className:"copy-btn",children:F?"Copied!":"Copy"})]}),w.jsx("button",{onClick:()=>D(!1),className:"close-btn",children:"Close"})]})})]})},NA=({questions:r,onReset:e,onComplete:n})=>{const s=xi(),[o,u]=U.useState(0),[f,m]=U.useState(null),[p,g]=U.useState(0),[E,T]=U.useState(!1),[b,D]=U.useState(!1),q=r[o],K=J=>{b||m(J)},F=()=>{D(!0),f===q.correctAnswer&&g(J=>J+1)},ie=()=>{const J=o+1;J<r.length?(u(J),m(null),D(!1)):(T(!0),n&&n(p,r.length))};if(E){const J=p/r.length*100;return w.jsxs("div",{className:"score-section card-glass",children:[w.jsx("h2",{children:"Quiz Completed!"}),w.jsx("div",{className:"score-circle",style:{"--score-percent":`${J}%`},children:w.jsxs("div",{className:"score-text",children:[p,"/",r.length]})}),w.jsx("p",{className:"score-message",children:J>=80?"Excellent!":J>=50?"Good Job!":"Keep Learning!"}),n?w.jsxs(w.Fragment,{children:[w.jsx("p",{style:{marginBottom:"1.5rem"},children:"Thank you for playing!"}),w.jsx("button",{onClick:()=>s("/"),className:"primary-btn",children:"Return to Home"})]}):w.jsx("button",{onClick:e,className:"primary-btn",children:"Play Again"})]})}return w.jsxs("div",{className:"quiz-game card-glass",children:[w.jsxs("div",{className:"question-section",children:[w.jsxs("div",{className:"question-header",children:[w.jsxs("div",{className:"question-count",children:["Question ",w.jsx("span",{children:o+1}),"/",r.length]}),w.jsxs("div",{className:"score-badge",children:["Score: ",p]})]}),w.jsx("div",{className:"question-text",children:q.question})]}),w.jsx("div",{className:"answer-section",children:q.options.map((J,re)=>{let ye="answer-btn";return b?J===q.correctAnswer?ye+=" correct":J===f&&(ye+=" incorrect"):f===J&&(ye+=" selected"),w.jsx("button",{onClick:()=>K(J),className:ye,disabled:b,children:J},re)})}),w.jsx("div",{className:"controls",children:b?w.jsx("button",{onClick:ie,className:"control-btn",children:o+1===r.length?"Finish Quiz":"Next Question"}):w.jsx("button",{onClick:F,disabled:!f,className:"control-btn",children:"Submit Answer"})})]})};var yT;(function(r){r.STRING="string",r.NUMBER="number",r.INTEGER="integer",r.BOOLEAN="boolean",r.ARRAY="array",r.OBJECT="object"})(yT||(yT={}));var _T;(function(r){r.LANGUAGE_UNSPECIFIED="language_unspecified",r.PYTHON="python"})(_T||(_T={}));var vT;(function(r){r.OUTCOME_UNSPECIFIED="outcome_unspecified",r.OUTCOME_OK="outcome_ok",r.OUTCOME_FAILED="outcome_failed",r.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(vT||(vT={}));const ET=["user","model","function","system"];var TT;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(TT||(TT={}));var ST;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(ST||(ST={}));var AT;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(AT||(AT={}));var bT;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER"})(bT||(bT={}));var Yl;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.OTHER="OTHER"})(Yl||(Yl={}));var wT;(function(r){r.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",r.RETRIEVAL_QUERY="RETRIEVAL_QUERY",r.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",r.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",r.CLASSIFICATION="CLASSIFICATION",r.CLUSTERING="CLUSTERING"})(wT||(wT={}));var RT;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(RT||(RT={}));var CT;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(CT||(CT={}));class Wt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ja extends Wt{constructor(e,n){super(e),this.response=n}}class OA extends Wt{constructor(e,n,s,o){super(e),this.status=n,this.statusText=s,this.errorDetails=o}}class ss extends Wt{}class DA extends Wt{}const dM="https://generativelanguage.googleapis.com",mM="v1beta",pM="0.24.1",gM="genai-js";var ea;(function(r){r.GENERATE_CONTENT="generateContent",r.STREAM_GENERATE_CONTENT="streamGenerateContent",r.COUNT_TOKENS="countTokens",r.EMBED_CONTENT="embedContent",r.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ea||(ea={}));class yM{constructor(e,n,s,o,u){this.model=e,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=u}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||mM;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||dM}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function _M(r){const e=[];return r?.apiClient&&e.push(r.apiClient),e.push(`${gM}/${pM}`),e.join(" ")}async function vM(r){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",_M(r.requestOptions)),n.append("x-goog-api-key",r.apiKey);let s=(e=r.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new ss(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,u]of s.entries()){if(o==="x-goog-api-key")throw new ss(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new ss(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function EM(r,e,n,s,o,u){const f=new yM(r,e,n,s,u);return{url:f.toString(),fetchOptions:Object.assign(Object.assign({},bM(u)),{method:"POST",headers:await vM(f),body:o})}}async function Su(r,e,n,s,o,u={},f=fetch){const{url:m,fetchOptions:p}=await EM(r,e,n,s,o,u);return TM(m,p,f)}async function TM(r,e,n=fetch){let s;try{s=await n(r,e)}catch(o){SM(o,r)}return s.ok||await AM(s,r),s}function SM(r,e){let n=r;throw n.name==="AbortError"?(n=new DA(`Request aborted when fetching ${e.toString()}: ${r.message}`),n.stack=r.stack):r instanceof OA||r instanceof ss||(n=new Wt(`Error fetching from ${e.toString()}: ${r.message}`),n.stack=r.stack),n}async function AM(r,e){let n="",s;try{const o=await r.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new OA(`Error fetching from ${e.toString()}: [${r.status} ${r.statusText}] ${n}`,r.status,r.statusText,s)}function bM(r){const e={};if(r?.signal!==void 0||r?.timeout>=0){const n=new AbortController;r?.timeout>=0&&setTimeout(()=>n.abort(),r.timeout),r?.signal&&r.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function rg(r){return r.text=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),_h(r.candidates[0]))throw new Ja(`${Kr(r)}`,r);return wM(r)}else if(r.promptFeedback)throw new Ja(`Text not available. ${Kr(r)}`,r);return""},r.functionCall=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_h(r.candidates[0]))throw new Ja(`${Kr(r)}`,r);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),IT(r)[0]}else if(r.promptFeedback)throw new Ja(`Function call not available. ${Kr(r)}`,r)},r.functionCalls=()=>{if(r.candidates&&r.candidates.length>0){if(r.candidates.length>1&&console.warn(`This response had ${r.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),_h(r.candidates[0]))throw new Ja(`${Kr(r)}`,r);return IT(r)}else if(r.promptFeedback)throw new Ja(`Function call not available. ${Kr(r)}`,r)},r}function wM(r){var e,n,s,o;const u=[];if(!((n=(e=r.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(s=r.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)f.text&&u.push(f.text),f.executableCode&&u.push("\n```"+f.executableCode.language+`
`+f.executableCode.code+"\n```\n"),f.codeExecutionResult&&u.push("\n```\n"+f.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function IT(r){var e,n,s,o;const u=[];if(!((n=(e=r.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const f of(o=(s=r.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)f.functionCall&&u.push(f.functionCall);if(u.length>0)return u}const RM=[Yl.RECITATION,Yl.SAFETY,Yl.LANGUAGE];function _h(r){return!!r.finishReason&&RM.includes(r.finishReason)}function Kr(r){var e,n,s;let o="";if((!r.candidates||r.candidates.length===0)&&r.promptFeedback)o+="Response was blocked",!((e=r.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${r.promptFeedback.blockReason}`),!((n=r.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${r.promptFeedback.blockReasonMessage}`);else if(!((s=r.candidates)===null||s===void 0)&&s[0]){const u=r.candidates[0];_h(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function au(r){return this instanceof au?(this.v=r,this):new au(r)}function CM(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(r,e||[]),o,u=[];return o={},f("next"),f("throw"),f("return"),o[Symbol.asyncIterator]=function(){return this},o;function f(b){s[b]&&(o[b]=function(D){return new Promise(function(q,K){u.push([b,D,q,K])>1||m(b,D)})})}function m(b,D){try{p(s[b](D))}catch(q){T(u[0][3],q)}}function p(b){b.value instanceof au?Promise.resolve(b.value.v).then(g,E):T(u[0][2],b)}function g(b){m("next",b)}function E(b){m("throw",b)}function T(b,D){b(D),u.shift(),u.length&&m(u[0][0],u[0][1])}}const NT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function IM(r){const e=r.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=DM(e),[s,o]=n.tee();return{stream:OM(s),response:NM(o)}}async function NM(r){const e=[],n=r.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return rg(MM(e));e.push(o)}}function OM(r){return CM(this,arguments,function*(){const n=r.getReader();for(;;){const{value:s,done:o}=yield au(n.read());if(o)break;yield yield au(rg(s))}})}function DM(r){const e=r.getReader();return new ReadableStream({start(s){let o="";return u();function u(){return e.read().then(({value:f,done:m})=>{if(m){if(o.trim()){s.error(new Wt("Failed to parse stream"));return}s.close();return}o+=f;let p=o.match(NT),g;for(;p;){try{g=JSON.parse(p[1])}catch{s.error(new Wt(`Error parsing JSON response: "${p[1]}"`));return}s.enqueue(g),o=o.substring(p[0].length),p=o.match(NT)}return u()}).catch(f=>{let m=f;throw m.stack=f.stack,m.name==="AbortError"?m=new DA("Request aborted when reading from the stream"):m=new Wt("Error reading from the stream"),m})}}})}function MM(r){const e=r[r.length-1],n={promptFeedback:e?.promptFeedback};for(const s of r){if(s.candidates){let o=0;for(const u of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const f={};for(const m of u.content.parts)m.text&&(f.text=m.text),m.functionCall&&(f.functionCall=m.functionCall),m.executableCode&&(f.executableCode=m.executableCode),m.codeExecutionResult&&(f.codeExecutionResult=m.codeExecutionResult),Object.keys(f).length===0&&(f.text=""),n.candidates[o].content.parts.push(f)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function MA(r,e,n,s){const o=await Su(e,ea.STREAM_GENERATE_CONTENT,r,!0,JSON.stringify(n),s);return IM(o)}async function xA(r,e,n,s){const u=await(await Su(e,ea.GENERATE_CONTENT,r,!1,JSON.stringify(n),s)).json();return{response:rg(u)}}function VA(r){if(r!=null){if(typeof r=="string")return{role:"system",parts:[{text:r}]};if(r.text)return{role:"system",parts:[r]};if(r.parts)return r.role?r:{role:"system",parts:r.parts}}}function ou(r){let e=[];if(typeof r=="string")e=[{text:r}];else for(const n of r)typeof n=="string"?e.push({text:n}):e.push(n);return xM(e)}function xM(r){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const u of r)"functionResponse"in u?(n.parts.push(u),o=!0):(e.parts.push(u),s=!0);if(s&&o)throw new Wt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new Wt("No content is provided for sending chat message.");return s?e:n}function VM(r,e){var n;let s={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=r.generateContentRequest!=null;if(r.contents){if(o)throw new ss("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=r.contents}else if(o)s=Object.assign(Object.assign({},s),r.generateContentRequest);else{const u=ou(r);s.contents=[u]}return{generateContentRequest:s}}function OT(r){let e;return r.contents?e=r:e={contents:[ou(r)]},r.systemInstruction&&(e.systemInstruction=VA(r.systemInstruction)),e}function LM(r){return typeof r=="string"||Array.isArray(r)?{content:ou(r)}:r}const DT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],PM={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function UM(r){let e=!1;for(const n of r){const{role:s,parts:o}=n;if(!e&&s!=="user")throw new Wt(`First content should be with role 'user', got ${s}`);if(!ET.includes(s))throw new Wt(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(ET)}`);if(!Array.isArray(o))throw new Wt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Wt("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const p of DT)p in m&&(u[p]+=1);const f=PM[s];for(const m of DT)if(!f.includes(m)&&u[m]>0)throw new Wt(`Content with role '${s}' can't contain '${m}' part`);e=!0}}function MT(r){var e;if(r.candidates===void 0||r.candidates.length===0)return!1;const n=(e=r.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const xT="SILENT_ERROR";class kM{constructor(e,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s?.history&&(UM(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,o,u,f,m,p;await this._sendPromise;const g=ou(e),E={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),n);let b;return this._sendPromise=this._sendPromise.then(()=>xA(this._apiKey,this.model,E,T)).then(D=>{var q;if(MT(D.response)){this._history.push(g);const K=Object.assign({parts:[],role:"model"},(q=D.response.candidates)===null||q===void 0?void 0:q[0].content);this._history.push(K)}else{const K=Kr(D.response);K&&console.warn(`sendMessage() was unsuccessful. ${K}. Inspect response object for details.`)}b=D}).catch(D=>{throw this._sendPromise=Promise.resolve(),D}),await this._sendPromise,b}async sendMessageStream(e,n={}){var s,o,u,f,m,p;await this._sendPromise;const g=ou(e),E={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(f=this.params)===null||f===void 0?void 0:f.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),n),b=MA(this._apiKey,this.model,E,T);return this._sendPromise=this._sendPromise.then(()=>b).catch(D=>{throw new Error(xT)}).then(D=>D.response).then(D=>{if(MT(D)){this._history.push(g);const q=Object.assign({},D.candidates[0].content);q.role||(q.role="model"),this._history.push(q)}else{const q=Kr(D);q&&console.warn(`sendMessageStream() was unsuccessful. ${q}. Inspect response object for details.`)}}).catch(D=>{D.message!==xT&&console.error(D)}),b}}async function jM(r,e,n,s){return(await Su(e,ea.COUNT_TOKENS,r,!1,JSON.stringify(n),s)).json()}async function zM(r,e,n,s){return(await Su(e,ea.EMBED_CONTENT,r,!1,JSON.stringify(n),s)).json()}async function BM(r,e,n,s){const o=n.requests.map(f=>Object.assign(Object.assign({},f),{model:e}));return(await Su(e,ea.BATCH_EMBED_CONTENTS,r,!1,JSON.stringify({requests:o}),s)).json()}class VT{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=VA(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const o=OT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return xA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}async generateContentStream(e,n={}){var s;const o=OT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return MA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}startChat(e){var n;return new kM(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=VM(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return jM(this.apiKey,this.model,s,o)}async embedContent(e,n={}){const s=LM(e),o=Object.assign(Object.assign({},this._requestOptions),n);return zM(this.apiKey,this.model,s,o)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return BM(this.apiKey,this.model,e,s)}}class qM{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Wt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new VT(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new ss("Cached content must contain a `name` field.");if(!e.model)throw new ss("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const f of o)if(n?.[f]&&e[f]&&n?.[f]!==e[f]){if(f==="model"){const m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(m===p)continue}throw new ss(`Different value for "${f}" specified in modelParams (${n[f]}) and cachedContent (${e[f]})`)}const u=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new VT(this.apiKey,u,s)}}const LA=async(r,e,n,s,o,u)=>{const f="AIzaSyDaZ-lbdFHYdoRVJ8vGEKaOXAFghNGBulU",p=new qM(f).getGenerativeModel({model:"gemini-2.5-flash"});let g=s,E="";s==="true-false"?(g="True/False",E='["True", "False"]'):s==="mixed"?(g="mixed Multiple Choice and True/False",E='["Option A", "Option B", "Option C", "Option D"] for multiple choice or ["True", "False"] for true/false'):(g="Multiple Choice (with 4 options)",E='["Option A", "Option B", "Option C", "Option D"]');const T=`Generate ${n} ${g} questions about "${r}" suitable for a "${e}" level. 
  The tone of the questions should be ${o}.
  Return the response strictly as a valid JSON array of objects. 
  Each object must have the following structure:
  {
    "question": "The question text",
    "options": ${E},
    "correctAnswer": "The correct option text (must match one of the options exactly)"
  }
  IMPORTANT: If the type is Multiple Choice, you MUST provide exactly 4 options. Do not use True/False unless the type is explicitly True/False or Mixed.
  Do not include any markdown formatting like \`\`\`json or \`\`\`. Just the raw JSON array.`;try{const K=(await(await p.generateContent(T)).response).text().replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(K)}catch(b){throw console.error("Error generating questions:",b),new Error("Failed to generate questions. "+b.message)}},HM=()=>{const[r,e]=U.useState([]),[n,s]=U.useState(!1),[o,u]=U.useState(null),[f,m]=U.useState(!1),p=xi(),[g,E]=FR(),T=async(D,q,K,F="multiple-choice",ie="standard")=>{s(!0),u(null);try{const J=await LA(D,q,K,F,ie);e(J),m(!0)}catch(J){u(J.message||"Failed to generate questions. Please check your API key and try again.")}finally{s(!1)}};U.useEffect(()=>{const D=g.get("topic"),q=g.get("grade"),K=g.get("numQuestions"),F=g.get("type")||"multiple-choice",ie=g.get("tone")||"standard";D&&q&&K&&!f&&!n&&T(D,q,parseInt(K),F,ie)},[g]);const b=()=>{m(!1),e([]),u(null),E({})};return w.jsxs("div",{className:"quiz-page",children:[w.jsx("button",{className:"back-btn",onClick:()=>p("/"),children:" Back to Home"}),o&&w.jsx("div",{className:"error-message",children:o}),f?w.jsx(NA,{questions:r,onReset:b}):w.jsx(fM,{onStartQuiz:T,loading:n})]})},FM=()=>{const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(!1),{login:p}=lf(),g=xi(),E=async T=>{T.preventDefault();try{u(""),m(!0),await p(r,n),g("/teacher/dashboard")}catch(b){u("Failed to log in: "+b.message)}m(!1)};return w.jsx("div",{className:"auth-page",children:w.jsxs("div",{className:"auth-card card-glass",children:[w.jsx("h2",{children:"Teacher Login"}),o&&w.jsx("div",{className:"error-message",children:o}),w.jsxs("form",{onSubmit:E,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",value:r,onChange:T=>e(T.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Password"}),w.jsx("input",{type:"password",value:n,onChange:T=>s(T.target.value),required:!0})]}),w.jsx("button",{disabled:f,className:"primary-btn",type:"submit",children:"Log In"})]}),w.jsxs("div",{className:"auth-footer",children:["Need an account? ",w.jsx(cu,{to:"/register",children:"Sign Up"})]})]})})},GM=()=>{const[r,e]=U.useState(""),[n,s]=U.useState(""),[o,u]=U.useState(""),[f,m]=U.useState(""),[p,g]=U.useState(!1),{signup:E}=lf(),T=xi(),b=async D=>{if(D.preventDefault(),n!==o)return m("Passwords do not match");try{m(""),g(!0),await E(r,n),T("/teacher/dashboard")}catch(q){m("Failed to create an account: "+q.message)}g(!1)};return w.jsx("div",{className:"auth-page",children:w.jsxs("div",{className:"auth-card card-glass",children:[w.jsx("h2",{children:"Teacher Sign Up"}),f&&w.jsx("div",{className:"error-message",children:f}),w.jsxs("form",{onSubmit:b,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Email"}),w.jsx("input",{type:"email",value:r,onChange:D=>e(D.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Password"}),w.jsx("input",{type:"password",value:n,onChange:D=>s(D.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Confirm Password"}),w.jsx("input",{type:"password",value:o,onChange:D=>u(D.target.value),required:!0})]}),w.jsx("button",{disabled:p,className:"primary-btn",type:"submit",children:"Sign Up"})]}),w.jsxs("div",{className:"auth-footer",children:["Already have an account? ",w.jsx(cu,{to:"/login",children:"Log In"})]})]})})},QM=()=>{const[r,e]=U.useState([]),[n,s]=U.useState(""),[o,u]=U.useState(!0),{currentUser:f,logout:m}=lf(),p=xi();U.useEffect(()=>{g()},[]);const g=async()=>{try{const b=np(oo(Zr,"classrooms"),ip("teacherId","==",f.uid)),q=(await rp(b)).docs.map(K=>({id:K.id,...K.data()}));e(q)}catch(b){console.error("Error fetching classrooms:",b)}finally{u(!1)}},E=async b=>{if(b.preventDefault(),!!n.trim())try{await ig(oo(Zr,"classrooms"),{name:n,teacherId:f.uid,createdAt:new Date}),s(""),g()}catch(D){console.error("Error creating classroom:",D)}},T=async()=>{try{await m(),p("/login")}catch(b){console.error("Failed to log out",b)}};return w.jsxs("div",{className:"dashboard-page",children:[w.jsxs("header",{className:"dashboard-header",children:[w.jsx("h1",{children:"Teacher Dashboard"}),w.jsxs("div",{className:"user-info",children:[w.jsx("span",{children:f.email}),w.jsx("button",{onClick:T,className:"logout-btn",children:"Log Out"})]})]}),w.jsxs("div",{className:"dashboard-content",children:[w.jsxs("div",{className:"create-class-section card-glass",children:[w.jsx("h3",{children:"Create New Classroom"}),w.jsxs("form",{onSubmit:E,className:"create-class-form",children:[w.jsx("input",{type:"text",value:n,onChange:b=>s(b.target.value),placeholder:"Class Name (e.g., 5th Grade Science)",required:!0}),w.jsx("button",{type:"submit",className:"primary-btn",children:"Create Class"})]})]}),w.jsx("div",{className:"classrooms-grid",children:o?w.jsx("p",{children:"Loading classrooms..."}):r.length===0?w.jsx("p",{children:"No classrooms found. Create one to get started!"}):r.map(b=>w.jsxs(cu,{to:`/teacher/classroom/${b.id}`,className:"classroom-card card-glass",children:[w.jsx("h3",{children:b.name}),w.jsx("p",{children:"View Tests & Results "})]},b.id))})]})]})},KM=()=>{const{classroomId:r}=HT(),e=xi(),[n,s]=U.useState(null),[o,u]=U.useState([]),[f,m]=U.useState(!1),[p,g]=U.useState(!0),[E,T]=U.useState(""),[b,D]=U.useState(""),[q,K]=U.useState(5),[F,ie]=U.useState("multiple-choice"),[J,re]=U.useState("standard"),[ye,pe]=U.useState(!1),[be,O]=U.useState(null),[R,C]=U.useState(null),[L,M]=U.useState([]);U.useEffect(()=>{k()},[r]);const k=async()=>{try{const te=await wA(Xp(Zr,"classrooms",r));if(te.exists()){s({id:te.id,...te.data()});const ce=np(oo(Zr,"tests"),ip("classroomId","==",r),mT("createdAt","desc")),Ne=await rp(ce);u(Ne.docs.map(Ue=>({id:Ue.id,...Ue.data()})))}else e("/teacher/dashboard")}catch(te){console.error("Error fetching data:",te)}finally{g(!1)}},I=async te=>{te.preventDefault(),pe(!0);try{const ce=await LA(E,b,q,F,J),Ne=await ig(oo(Zr,"tests"),{classroomId:r,topic:E,grade:b,numQuestions:q,questionType:F,tone:J,questions:ce,createdAt:new Date});O(Ne.id),T(""),D(""),k()}catch(ce){alert("Failed to create test: "+ce.message),m(!1)}finally{pe(!1)}},Ze=()=>{m(!1),O(null)},ft=async te=>{C(te);try{const ce=np(oo(Zr,"results"),ip("testId","==",te.id),mT("createdAt","desc")),Ne=await rp(ce);M(Ne.docs.map(Ue=>({id:Ue.id,...Ue.data()})))}catch(ce){console.error("Error fetching results:",ce)}},Y=te=>{const ce=`${window.location.origin}/test/${te}`;navigator.clipboard.writeText(ce),alert("Test link copied! Share it with your students.")};return p?w.jsx("div",{className:"loading",children:"Loading..."}):w.jsxs("div",{className:"classroom-page",children:[w.jsxs("header",{className:"dashboard-header",children:[w.jsx("button",{onClick:()=>e("/teacher/dashboard"),className:"back-btn-nav",children:" Dashboard"}),w.jsx("h1",{children:n?.name})]}),w.jsxs("div",{className:"classroom-content",children:[w.jsx("div",{className:"actions-bar",children:w.jsx("button",{onClick:()=>m(!0),className:"primary-btn",children:"Create New Test"})}),w.jsxs("div",{className:"tests-list",children:[w.jsx("h2",{children:"Class Tests"}),o.length===0?w.jsx("p",{children:"No tests created yet."}):w.jsx("div",{className:"tests-grid",children:o.map(te=>w.jsxs("div",{className:"test-card card-glass",children:[w.jsx("h3",{children:te.topic}),w.jsxs("p",{className:"test-meta",children:[te.grade,"  ",te.numQuestions," Questions"]}),w.jsxs("div",{className:"test-actions",children:[w.jsx("button",{onClick:()=>Y(te.id),className:"action-btn",children:"Copy Link"}),w.jsx("button",{onClick:()=>ft(te),className:"action-btn secondary",children:"View Results"})]})]},te.id))})]}),R&&w.jsxs("div",{className:"results-section card-glass",id:"results",children:[w.jsxs("div",{className:"results-header",children:[w.jsxs("h2",{children:["Results: ",R.topic]}),w.jsx("button",{onClick:()=>C(null),className:"close-btn",children:"Close"})]}),w.jsxs("table",{className:"results-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Student Name"}),w.jsx("th",{children:"Score"}),w.jsx("th",{children:"Date"})]})}),w.jsx("tbody",{children:L.length===0?w.jsx("tr",{children:w.jsx("td",{colSpan:"3",children:"No results yet."})}):L.map(te=>w.jsxs("tr",{children:[w.jsx("td",{children:te.studentName}),w.jsxs("td",{children:[te.score," / ",te.totalQuestions]}),w.jsx("td",{children:te.createdAt?.toDate().toLocaleString()})]},te.id))})]})]})]}),f&&w.jsx("div",{className:"modal-overlay",children:w.jsx("div",{className:"modal-content card-glass",children:be?w.jsxs("div",{className:"success-message",children:[w.jsx("h3",{children:"Test Created Successfully!"}),w.jsx("p",{children:"Share this link with your students:"}),w.jsxs("div",{className:"link-box",children:[w.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}/test/${be}`}),w.jsx("button",{onClick:()=>Y(be),className:"primary-btn",children:"Copy"})]}),w.jsx("button",{onClick:Ze,className:"close-btn-full",children:"Done"})]}):w.jsxs(w.Fragment,{children:[w.jsx("h3",{children:"Create New Test"}),w.jsxs("form",{onSubmit:I,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Topic"}),w.jsx("input",{type:"text",value:E,onChange:te=>T(te.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Grade Level"}),w.jsx("input",{type:"text",value:b,onChange:te=>D(te.target.value),required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Number of Questions"}),w.jsx("input",{type:"number",value:q,onChange:te=>K(te.target.value),min:"1",max:"20",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Type"}),w.jsxs("select",{value:F,onChange:te=>ie(te.target.value),children:[w.jsx("option",{value:"multiple-choice",children:"Multiple Choice"}),w.jsx("option",{value:"true-false",children:"True/False"}),w.jsx("option",{value:"mixed",children:"Mixed"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Tone"}),w.jsxs("select",{value:J,onChange:te=>re(te.target.value),children:[w.jsx("option",{value:"standard",children:"Standard"}),w.jsx("option",{value:"humorous",children:"Humorous"}),w.jsx("option",{value:"sarcastic",children:"Sarcastic"}),w.jsx("option",{value:"enthusiastic",children:"Enthusiastic"}),w.jsx("option",{value:"pirate",children:"Pirate"})]})]}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{type:"button",onClick:Ze,className:"cancel-btn",children:"Cancel"}),w.jsx("button",{type:"submit",className:"primary-btn",disabled:ye,children:ye?"Creating...":"Create Test"})]})]})]})})})]})},YM=()=>{const{testId:r}=HT(),[e,n]=U.useState(null),[s,o]=U.useState(""),[u,f]=U.useState(!1),[m,p]=U.useState(!0),[g,E]=U.useState(null),[T,b]=U.useState(!1);U.useEffect(()=>{(async()=>{try{const F=await wA(Xp(Zr,"tests",r));F.exists()?n({id:F.id,...F.data()}):E("Test not found.")}catch(F){E("Error loading test."),console.error(F)}finally{p(!1)}})()},[r]);const D=K=>{K.preventDefault(),s.trim()&&f(!0)},q=async(K,F)=>{try{await ig(oo(Zr,"results"),{testId:r,studentName:s,score:K,totalQuestions:F,createdAt:new Date}),b(!0)}catch(ie){console.error("Error saving results:",ie),alert("Failed to save results. Please try again.")}};return m?w.jsx("div",{className:"loading",children:"Loading test..."}):g?w.jsx("div",{className:"error-message",children:g}):u?w.jsx("div",{className:"student-test-page",children:w.jsx(NA,{questions:e.questions,onReset:()=>window.location.reload(),onComplete:q})}):w.jsx("div",{className:"student-test-page",children:w.jsxs("div",{className:"card-glass welcome-card",children:[w.jsxs("h1",{children:[e.topic," Quiz"]}),w.jsxs("p",{children:["Grade: ",e.grade,"  ",e.numQuestions," Questions"]}),w.jsxs("form",{onSubmit:D,className:"name-form",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Enter your full name to begin:"}),w.jsx("input",{type:"text",value:s,onChange:K=>o(K.target.value),required:!0,placeholder:"John Doe"})]}),w.jsx("button",{type:"submit",className:"primary-btn",children:"Start Quiz"})]})]})})},LT=({children:r})=>{const{currentUser:e}=lf();return e?r:w.jsx(dR,{to:"/login"})};function XM(){return w.jsx(cM,{children:w.jsx(jR,{children:w.jsx("div",{className:"app-container",children:w.jsxs(pR,{children:[w.jsx(Qr,{path:"/",element:w.jsx(hM,{})}),w.jsx(Qr,{path:"/quiz",element:w.jsx(HM,{})}),w.jsx(Qr,{path:"/login",element:w.jsx(FM,{})}),w.jsx(Qr,{path:"/register",element:w.jsx(GM,{})}),w.jsx(Qr,{path:"/teacher/dashboard",element:w.jsx(LT,{children:w.jsx(QM,{})})}),w.jsx(Qr,{path:"/teacher/classroom/:classroomId",element:w.jsx(LT,{children:w.jsx(KM,{})})}),w.jsx(Qr,{path:"/test/:testId",element:w.jsx(YM,{})})]})})})})}Aw.createRoot(document.getElementById("root")).render(w.jsx(U.StrictMode,{children:w.jsx(XM,{})}));
